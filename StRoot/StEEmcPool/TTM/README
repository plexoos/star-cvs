
\mainpage
                                                                     
Class:  EETowTrackMatchMaker
Author: Piotr A. Zolnierczuk
\date   2004/01/06

\section GENERAL
This a MuDST based class to get tower calibration from matching TPC tracks
Since cint in root/root4star does not allow to pass function pointers 
(that would be ideal for user defineable AcceptTrack/MatchTrack)
we're stuck with FORTRAN++


\section ALGORITHM 
  1. build a list of good TPC tracks/event (using AcceptTrack)
     - flag() > 0        (see StEvent manual for information)
     - type() == primary (see StEvent manual for information)
     - hits/track      >= mMinTrackHits   (user changeable via SetMinTrackHits  (Int_t    v)
     - track  length   >= mMinTrackLength (user changeable via SetMinTrackLength(Double_t v)
     - transv.momentum >= mMinTrackPt     (user changeable via SetMinTrackPt    (Double_t v)
  
  2. loop over all EEMC tower hits (with adc>ped)
     - for each track check if it matches a tower at preselected positions (mZ)
         extrapolate track to a mZ with ExtrapolateToZ() to get track_hit_position
         match is established with MatchTrack() 
              if the distance from track_hit_position to tower_center in phi/eta 
              is smaller than mPhiFac/mEtaFac x tower_half_width 
         if the match is found the data (see struct NTuple_TTM ) is written to mFileName file
 

\section PARAMETERS
     user may change >almost< everything
     mMinTrackHits   (default kDefMinTrackHits  ) changeable via SetMinTrackHits  (Int_t    v)
     mMinTrackLength (default kDefMinTrackLength) changeable via SetMinTrackLength(Double_t v)
     mMinTrackPt     (default kDefMinTrackPt    ) changeable via SetMinTrackPt    (Double_t v)
    
     mPhiFac/mEtaFac (default 1.0)  user changeable via  SetPhiFactor/SetEtaFactor(Double_t v)
     
     mZ              (default   "pres" => kEEmcZPRE1+0.1,
                                "post" => kEEmcZPOST-0.1,
                                "smd"  => kEEmcSMD       )
                     via ResetZPositions() and subsequent calls to AppendZPosition("name",value)
                     NOTE: "name" will define 2 new branches in TTree deta+name and dphi+name
                     that will hold distances in eta/phi for matched tracks for further cutting
                     to e.g. reduce fiducial volume         
  
     mFileName       (default lowercase(MakerName)+".root") changeable with SetFileName


\section EXAMPLE
	see macros/ttm.C for detais         

\section FINAL ANALYSIS 
  is done with macros e.g. mipcalib.C 
  info to be written 

=============================================================================================
TODO: Allow for L3/TPT track selection 
   
