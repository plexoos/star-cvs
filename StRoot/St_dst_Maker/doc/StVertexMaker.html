<html>
<title>StVertexMaker documentation</title>

<h1>StVertexMaker documentation</h1>

<h2>est</h2>

<h2>evr</h2>
Primary vertex finder.

<h2>lmv</h2>
Low-multiplicity vertex finder.

<h2>ppLMV</h2>
Proton-proton vertex finder.

<h2>Fixed Vertices</h2>
<pre>
The StVertexMaker now has the ability to use a "fixed"
primary vertex. This is useful if a primary vertex fitter (lmv or evr)
is failing, or if you want to test some other portion of code
without any contributions from primary vertex fitting (for
example, testing secondary vertex codes with Monte Carlo
studies of particles produced at (0,0,0)).

The fixed vertex is (OF COURSE!) by default turned off.
And when it is turned on, an annoying warning message
is produced in StVertexMaker at each event.

To use in the BFC, copy bfc.C to your working area and edit.
After the chain has been instantiated (chain->Instantiate();)
and before the event loop, you can use:

  vtxMk = (StVertexMaker*) chain->GetMaker("Vertex");
  vtxMk->FixVertex(0.1,-0.3,10.5);

For a "fixed" vertex, that portion of evr which determines
which tracks have a distance-of-closest-approach passing
the cut from the evr parameter table (evrpar.vcut) is still
run to determine which global tracks are primary tracks.

The "fixed" vertex can also be switched off with

  vtxMk->UnFixVertex();

in case one wants to switch on/off the fixing of the vertex
for different events.

One can also read in a file of vertex positions to use for
fixing the vertex. There are three options presently. In
the above example, one would replace the call to FixVertex()
with a call to FixVertexFile*(char* filename) as shown here:

  vtxMk->FixVertexFile3Vector("file.txt");
    This would read in a sequential file of just 3 columns
    representing the X Y Z coordinates.

  vtxMk->FixVertexFileMatch("file.txt");
    This reads in a file with 5 columns: eventID runID X Y Z
    When running, the maker "looks up" the appropriate vertex
    for the current run and event ID.

  vtxMk->FixVertexFileEmbed("file.txt");
    This behaves just as FixVertexMatch(), except that the data
    in the second column is ignored (runID is not checked). This
    is done to attain compatibility with the text files of vertex
    positions used for embedding where the second column is event
    multiplicity.

</pre>

</html>
