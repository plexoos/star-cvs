{
  ///////////////////////////////////////////////////////////////////////////////
  //
  // $Id: read2pt.C,v 1.1.1.1 2000/02/05 03:15:21 jgreid Exp $
  //
  // read2pt.C
  //
  // Description: 
  //  Root script to read data file generated by do2pt.C and plot 2-point spaces
  //
  // Environment:
  //  Software developed for the STAR Detector at Brookhaven National Laboratory
  //
  // Author List: 
  //  Jeff Reid, UW  
  //  Janet Seger, Creighton
  //
  // $Log: read2pt.C,v $
  // Revision 1.1.1.1  2000/02/05 03:15:21  jgreid
  // Two particle correlationspace generation package
  //
  //
  ///////////////////////////////////////////////////////////////////////////////

  // file name temporarily hard wired
  TFile InFile("ebye2pt.root");

  TH2F* SPP = (TH2F*) InFile.Get("SPP");
  TH2F* SPM = (TH2F*) InFile.Get("SPM");
  TH2F* SMP = (TH2F*) InFile.Get("SMP");
  TH2F* SMM = (TH2F*) InFile.Get("SMM");

  TH2F* MPP = (TH2F*) InFile.Get("MPP");
  TH2F* MPM = (TH2F*) InFile.Get("MPM");
  TH2F* MMP = (TH2F*) InFile.Get("MMP");
  TH2F* MMM = (TH2F*) InFile.Get("MMM");

  float SPPnorm = SPP->GetSum();
  float SMMnorm = SMM->GetSum();
  float SPMnorm = SPM->GetSum();
  float SMPnorm = SMP->GetSum();

  float MPPnorm = MPP->GetSum();
  float MMMnorm = MMM->GetSum();
  float MPMnorm = MPM->GetSum();
  float MMPnorm = MMP->GetSum();

  TH2F RatioPP = ((*SPP)/(*MPP))*(MPPnorm/SPPnorm);
  TH2F RatioMM = ((*SMM)/(*MMM))*(MMMnorm/SMMnorm);
  TH2F RatioPM = ((*SPM)/(*MPM))*(MPMnorm/SPMnorm);
  TH2F RatioMP = ((*SMP)/(*MMP))*(MMPnorm/SMPnorm);
  TH2F RatioAll = (((*SPP)+(*SMM)+(*SPM)+(*SMP))/((*MPP)+(*MMM)+(*MPM)+(*MMP)))*((MPPnorm+MMMnorm+MPMnorm+MMPnorm)/(SPPnorm+SMMnorm+SPMnorm+SMPnorm));

  RatioPP->SetName("Ratio PP");
  RatioPP->SetTitle("+.+");
  RatioMM->SetName("Ratio MM");
  RatioMM->SetTitle("-.-");
  RatioPM->SetName("Ratio PM");
  RatioPM->SetTitle("+.-");
  RatioMP->SetName("Ratio MP");
  RatioMP->SetTitle("-.+");
  RatioAll->SetName("Ratio All");
  RatioAll->SetTitle("all");

  Float_t histMin = 0.9;
  Float_t histMax = 1.1;

  RatioPP.SetMinimum(histMin);
  RatioPP.SetMaximum(histMax);
  RatioMM.SetMinimum(histMin);
  RatioMM.SetMaximum(histMax);
  RatioPM.SetMinimum(histMin);
  RatioPM.SetMaximum(histMax);
  RatioMP.SetMinimum(histMin);
  RatioMP.SetMaximum(histMax);
  RatioAll.SetMinimum(histMin);
  RatioAll.SetMaximum(histMax);

  // Create new canvas
  const Int_t colSection = 10;
  Int_t colNum = 4*colSection;

  const Int_t colStart = 51;

  // set up a good palette
  Int_t palette[colNum];

  // (0,0,1) -> (0,1,1)
  for (Int_t i=0; i<colSection; i++) {
    TColor *color = new TColor(i+colStart,0,(i/((colSection)*1.0)),1,"");
    palette[i] = i+colStart;
  }
  // (0,1,1) -> (0,1,0)
  for (Int_t k=0; k<colSection; k++) {
    TColor *color = new TColor(i+colStart,0,1,1-(k/((colSection)*1.0)),"");
    palette[i] = i+colStart;
    i++;
  }
  // (0,1,0) -> (1,1,0)
  for (k=0; k<colSection; k++) {
    TColor *color = new TColor(i+colStart,(k/((colSection)*1.0)),1,0,"");
    palette[i] = i+colStart;
    i++;
  }
  // (1,1,0) -> (1,0,0)
  for (k=0; k<colSection; k++) {
    TColor *color = new TColor(i+colStart,1,1-(k/((colSection)*1.0)),0,"");
    palette[i] = i+colStart;
    i++;
  }

  gStyle->SetPalette(colNum,palette);
  gStyle->SetOptStat(0); 

  TCanvas *TwoPt = new TCanvas("TwoPt","TwoPt",700,500);
  TwoPt->Divide(2,2);

  TwoPt->cd(1);
  RatioPP->Draw("colz");
  TwoPt->cd(2);
  RatioMM->Draw("colz");
  TwoPt->cd(3);
  RatioPM->Draw("colz");
  //TwoPt->cd(4);
  //RatioMP->Draw("colz");
  TwoPt->cd(4);
  RatioAll->Draw("colz");

}
