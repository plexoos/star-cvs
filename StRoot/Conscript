#!/usr/local/bin/perl
use File::Basename;
Import qw ( env INCLUDE LIB BIN  EXPORT BUILD OBJ);
my $PWD = DirPath;                           print "Build in $PWD\n";
(my $pwd = SourcePath($PWD)) =~ s/\/$PWD//; # print "new pwd = $pwd\n";
my @sources = `ls -1 $pwd/*/*.c* $pwd/*/*.g`;# $pwd/*/*.[fF]`;# print "@sources\n";  
my $dirlist = "";
for $src (@sources) {
    my $dir = dirname ($src);
    if (grep (/$dir/,$dirlist)) {next;}
#    if (grep (/StDbLib/,$dir))  {next;}
#    if (grep (/StDbMaker/,$dir))  {next;}
#    if (grep (/StEvent/,$dir))  {next;}
#    if (grep (/StHbtMaker/,$dir))  {next;}
#    if (grep (/StTrsMaker/,$dir))  {next;}
#    if (grep (/StUtilities/,$dir))  {next;}
#    if (grep (/St_fmg_Maker/,$dir))  {next;}
#    if (grep (/StarClassLibrary/,$dir))  {next;}
    $dirlist .= $dir . ": "; #print "dirlist = $dirlist\n";
}
$dirlist =~ s/$pwd\///g; #print "dirlist = $dirlist\n";
$dirlist =~ s/\:/\/Conscript/g; #print "dirlist = $dirlist\n";
my @dirs = split ' ',$dirlist;
Build @dirs;
#Build qw( StDbLib/Conscript );

