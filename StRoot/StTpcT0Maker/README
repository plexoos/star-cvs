
Package: StTpcT0Maker

Responsible: David Hardtke (DHHardtke@lbl.gov)

Purpose: This make calculates the t0 on an event-by-event basis.  The t0 can
be used to adjust the drift velocity.

The t0 is the drift time for a hypothetical particle at the central membrane.
Assuming a normal drift velocity (5.4 cm/us), t0 is around 37 micro-seconds.
t0 is related to the tpc length, drift velocity, and trigger offset by the following formula:
 
t0 = L/v - triggerOffset

t0 can be calculated directly from the data by tracking each half of the TPC
separately.  From this, we extract two primary vertices (Zwest and Zeast).
To do this we assume a t0a (actaully we assume an La,va, and triggerOffseta).
The real t0 is then:

t0 = 1/2va (Zeast-Zwest) + t0a

If we assuming that the TPC length L and triggerOffset are correct, we can 
then extract the drift velocity.  Note that the way to measure L and 
triggerOffset is to vary the drift velocity, measure it via laser, and
then extract t0 as a function of vdrift.  

This maker has several useful member functions:

SetDesiredEntries(int N)  -- tells the maker to quite after N t0 measurements
                             have been made.  Default is 99999, but
                             10 is probably a good number
SetMinEntries(int N)      -- minimum number of entries for a valid t0 
                             measurement.  Below this number, the 
                             tpcDriftVelocity table will not be written out.
                             Default is 5.
SetMaxRMS(float RMS)      -- To protect agaist bad measurements, the
                             driftVelocity measurement is only written
                             if the RMS deviation of the t0 measurement
                             is below this value.  Default is .05us.


This maker produces two histograms.  To write them to a file named t0hist.root,
call the WriteHistFile() member function or use the HistFileByDefault() 
member funtion to automatically write out the result at Finish.  The
histograms are:

t0result                --  Event-by-event t0 
t0 measured - t0 guess  --  measured t0 - guess taken from database        



