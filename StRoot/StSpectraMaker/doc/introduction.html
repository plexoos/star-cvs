<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0 Win">
  <TITLE>StSpectraMaker Introduction</TITLE>
</HEAD>
<BODY>

<P>First some definitions</P>

<P>StSpectraAnalysis : base class that defines an analysis. Contains
key information that is used to make spectra; an StEfficiency
object, the particle type via StParticleDefintion, and the centrality
definition (not yet implemented). This is a virtual class.</P>

<P>An &quot;analyisis&quot; is an instantiation of a class that
inherits from StSpectraAnalysis. The idea is there is one derived
class for each PID method, e.g. for direct dE/dx PID there will
be a class called StTpcDedxSpectraAnalysis, for the number of
sigma away from a dE/dx band there is StTpcDeviant SpectraAnalysis.
Individual physicists can develop their own derived classes for
their physics project.</P>

<P>The framework allows uses to set-up multiple analyses, control
the event selection (not implented yet), the efficiency and track
cuts, the PID algorithm used etc. Currently the output of each
analysis is a 3-D histogram in (y,mt,PID_info) which has had all
the efficiecncy, decay corrections, normalisations etc.. For the
StTpcDeviantSpectraAnalysis the output is a 3-D histogram (y,mt,dedx_deviant).
</P>

<P>A second stage of interacting processing (cint macro projectSpectra.C)
projects out the PID axis for each (y,mt) bin, fits these and
fills the invariant spectra as a function of (y,mt). This stage
is kept separate as it is likely to be very specific to each projects,
differen S/B , fitting requirements etc. In the case of  dedx_deviant
the PID peak is centered at zero and unit width. The peak can
be  fit and the area above a background extracted to provide the
invariant yield in that (y,mt) bin. This fitting is done interactively,
providing the user maximal flexibility over background choices,
S/B limits, quality criteria on fit success etc. For mature projects,
this projection and fitting can be moved from cint to compiled
code and be run at the finish of StSpectraMaker.</P>

<P>Other analysis classes can be derived from StSpectraAnalysis,
e.g. for strange particles, where a StV0SpectraAnalysis class
would produce efficiency corrected 3-D histograms (y,mt,inv_mass).

</BODY>
</HTML>
