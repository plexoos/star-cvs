StDaqLib:
=========

Design by Jeff Landgraf
Implementation by Jeff Landgraf and Mike LeVine with contributions by
Markus Schulz


Organization:
=============
There are several directories -

Top-level:

client.cxx - needed for self-standing executable. Not necessary for Root
applications. In any case, use client.cxx as a tutorial of how to use
the under-lying class libraries.

Makefile - Use to build a self-standing executable. Not for use with
Root.



GENERIC (common to all detectors):
EventReader. Returns pointer to the upper-level pointer bank,
obtains information on the event (length, event number, time of creation,
trigger bits, detectors present). 

EventReader.hh - contains declarations common to all detectors plus some 
unavoidable detector-dependent definitions (needed to be visible to
top-level client for robust programming interface)

RecordHeaderFormats. Methods for byte-swapping and printing banks common to
all detectors.

swaps. methods for byte-swapping

CRC - calculates CRC


TPC (code for the TPC only)

trans_table.hh - needed to invert the 8-bit compression done in the
DAQ front end. [See client.cxx for example of how to use.]

DetectorReader.cxx - factory for making the appropriate
detector-specific reader, both specific to the detector and to the
format version. [Probably should be moved to the GENERIC directory]

TPCV1(2)P0.hh - declarations of class members for TPC readers

TPCV1(2)P0.Banks.cxx, TPCV1(2)P0.Banks.hh - declarations of
TPC-specific DAQ data banks, and methods to print them plus overrides
on default swap behavior

TPCV1(2)P0_ADCR_SR.cxx - sector reader for TPC data in TPCADCR/TPCPADK
banks. Populates padlist, sets pointers to pad ADC data.

TPCV1(2)P0_CPPR_SR.cxx - sector reader for TPC data in TPCCPPR/TPCPADK
banks. Gets pointers to arrays of Sequence cluster structs for each pad.

TPCV1(2)P0_Reader.hh - TPC detector reader virtual class

TPCV1(2)P0_ZS_SR.cxx - sector reader for zero-suppressed TPC data in
TPCADCD, TPCSEQD banks. If any of these banks are missing for a given
mezzanine board, the ZS sector reader will attempt to construct them
from the TPCADCR, TPCPADK banks if they exist. End result is a
fully-populated set of sector Sequence structs. Also provides access
to the data based on FEE/pin coordinates

fee_pin.h - used by the FEE/pin access method above


OTHERS - other detector groups are expected to emulate the TPC
directory to describe their detectors in an appropriate manner. Please
note that the methodology to locate the upper-most detector-specific
pointer bank has changed. Please copy the method used in 
TPCV2P0_Reader::TPCV2P0_Reader.

