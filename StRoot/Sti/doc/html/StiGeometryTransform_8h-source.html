<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiGeometryTransform.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiGeometryTransform.h</h1><a href="StiGeometryTransform_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//  17 may 01</font>
00002 <font class="comment">//  Ben Norman</font>
00003 
00004 <font class="preprocessor">#ifndef STI_GEOMETRY_TRANSFORM_HH</font>
00005 <font class="preprocessor">#define STI_GEOMETRY_TRANSFORM_HH</font>
00006 
00007 <font class="preprocessor">#include &lt;map&gt;</font>
00008 <font class="preprocessor">#include "StThreeVector.hh"</font>
00009 <font class="preprocessor">#include "StThreeVectorD.hh"</font>
00010 <font class="preprocessor">#include "tables/St_svg_config_Table.h"</font>
00011 
00012 <font class="keyword">class </font><a class="code" href="classStiTrack.html">StiTrack</a>;
00013 <font class="keyword">class </font><a class="code" href="classStiKalmanTrack.html">StiKalmanTrack</a>;
00014 <font class="keyword">class </font><a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a>;
00015 <font class="keyword">class </font>StTrack;
00016 <font class="keyword">class </font>StGlobalTrack;
00017 <font class="keyword">class </font>StTpcHit;
00018 <font class="keyword">class </font>StSvtHit;
00019 <font class="keyword">class </font>StSsdHit;
00020 <font class="keyword">class </font><a class="code" href="classStiHit.html">StiHit</a>;
00021 <font class="keyword">class </font>StTpcCoordinateTransform;
00022 <font class="keyword">class </font>svg_geom_st;
00023 <font class="keyword">class </font>svg_shape_st;
00024 <font class="keyword">class </font>StPrimaryVertex;
00025 <font class="keyword">class </font>StSvtConfig;
00026 <font class="keyword">class </font>StHelix;
00027 <font class="keyword">class </font><a class="code" href="classStTpcHitFilter.html">StTpcHitFilter</a>;
00028 
<a name="l00029"></a><a class="code" href="classStiGeometryTransform.html">00029</a> <font class="keyword">class </font><a class="code" href="classStiGeometryTransform.html">StiGeometryTransform</a>{
00030     
00031 <font class="keyword">public</font>:
00032     
<a name="l00033"></a><a class="code" href="classStiGeometryTransform.html#s0">00033</a>     <font class="keyword">typedef</font> map&lt;unsigned int, double&gt; padrow_radius_map;
<a name="l00034"></a><a class="code" href="classStiGeometryTransform.html#s1">00034</a>     <font class="keyword">typedef</font> padrow_radius_map::value_type padrow_radius_map_ValType;
00035 
<a name="l00036"></a><a class="code" href="classStiGeometryTransform.html#l0">00036</a>     <font class="keyword">friend</font> <font class="keyword">class </font>nobody;
00037     
00038     <font class="comment">//Global access</font>
00039     <font class="keyword">static</font> <a class="code" href="classStiGeometryTransform.html">StiGeometryTransform</a>* <a class="code" href="classStiGeometryTransform.html#d0">instance</a>();
00040     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#d1">kill</a>();
00041 
00042     <font class="comment">// xform routines</font>
00043 
00044     <font class="comment">//Local to global</font>
00045     StThreeVector&lt;double&gt; <a class="code" href="classStiGeometryTransform.html#a0">centerForTpcPadrow</a>(<font class="keywordtype">int</font> sector, <font class="keywordtype">int</font> padrow) <font class="keyword">const</font>;
00046     StThreeVector&lt;double&gt; <a class="code" href="classStiGeometryTransform.html#a1">centerForSvgLadder</a>(<font class="keywordtype">int</font> layer, <font class="keywordtype">int</font> ladder) <font class="keyword">const</font>;
00047 
00048     <font class="comment">//Global to local</font>
00049     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a2">sectorForTpcCoords</a>(<font class="keyword">const</font> StThreeVector&lt;double&gt; &amp;vec) <font class="keyword">const</font>;
00050     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a3">padrowForTpcCoords</a>(<font class="keyword">const</font> StThreeVector&lt;double&gt; &amp;vec) <font class="keyword">const</font>;
00051     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a4">layerForSvgCoords</a>(<font class="keyword">const</font> StThreeVector&lt;double&gt; &amp;vec) <font class="keyword">const</font>;
00052     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a5">ladderForSvgCoords</a>(<font class="keyword">const</font> StThreeVector&lt;double&gt; &amp;vec) <font class="keyword">const</font>;
00053 
00054     <font class="comment">// accessors</font>
<a name="l00055"></a><a class="code" href="classStiGeometryTransform.html#a6">00055</a>     svg_config_st  <a class="code" href="classStiGeometryTransform.html#a6">getSvgConfig</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> svgConfig; }
<a name="l00056"></a><a class="code" href="classStiGeometryTransform.html#a7">00056</a>     svg_geom_st   *<a class="code" href="classStiGeometryTransform.html#a7">getSvgGeom</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> aSvgGeom; }
<a name="l00057"></a><a class="code" href="classStiGeometryTransform.html#a8">00057</a>     svg_shape_st  *<a class="code" href="classStiGeometryTransform.html#a8">getSvgShape</a>()<font class="keyword"> const</font>{ <font class="keywordflow">return</font> aSvgShape; }
00058 
00059     <font class="comment">// generic transforms</font>
00060     <font class="keywordtype">double</font> <a class="code" href="classStiGeometryTransform.html#a9">phiForWestSector</a>(<font class="keywordtype">int</font> iSector, <font class="keywordtype">int</font> nSectors) <font class="keyword">const</font>;
00061     <font class="keywordtype">double</font> <a class="code" href="classStiGeometryTransform.html#a10">phiForEastSector</a>(<font class="keywordtype">int</font> iSector, <font class="keywordtype">int</font> nSectors) <font class="keyword">const</font>;
00062     <font class="keywordtype">double</font> <a class="code" href="classStiGeometryTransform.html#a11">phiForSector</a>(<font class="keywordtype">int</font> iSector, <font class="keywordtype">int</font> nSectors) <font class="keyword">const</font>;
00063     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a12">westSectorForPhi</a>(<font class="keywordtype">double</font> phi, <font class="keywordtype">int</font> nSectors) <font class="keyword">const</font>;
00064     <font class="keywordtype">int</font> <a class="code" href="classStiGeometryTransform.html#a13">eastSectorForPhi</a>(<font class="keywordtype">double</font> phi, <font class="keywordtype">int</font> nSectors) <font class="keyword">const</font>;
00065 
00066 <font class="keyword">public</font>:
00067     <font class="comment">//Hit Transform Functors (Transfrom from first argument to second argument)</font>
00068     <font class="keywordtype">void</font> <font class="keyword">operator</font>() (<font class="keyword">const</font> StTpcHit*, <a class="code" href="classStiHit.html">StiHit</a>*); <font class="comment">//From Tpc -&gt; Sti</font>
00069     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiHit.html">StiHit</a>*, StTpcHit*); <font class="comment">//From Sti -&gt; Tpc</font>
00070     
00071     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> StSvtHit*, <a class="code" href="classStiHit.html">StiHit</a>*); <font class="comment">//From Svt -&gt; Sti</font>
00072     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiHit.html">StiHit</a>*, StSvtHit*);  <font class="comment">//From Sti -&gt; Svt</font>
00073     
00074     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> StSsdHit*, <a class="code" href="classStiHit.html">StiHit</a>*); <font class="comment">//From Ssd -&gt; Sti</font>
00075     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiHit.html">StiHit</a>*, StSsdHit*);  <font class="comment">//From Sti -&gt; Ssd</font>
00076     
00077     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> StPrimaryVertex*, <a class="code" href="classStiHit.html">StiHit</a>*); <font class="comment">//From StPrimaryVertex -&gt; StiHit</font>
00078 
00079     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a>*, StHelix*);  <font class="comment">// from StiTrackNode helix params -&gt; StHelix</font>
00080 
00081     <font class="keywordtype">void</font> <a class="code" href="classStiGeometryTransform.html#a14">operator() </a>(<font class="keyword">const</font> StGlobalTrack*, <a class="code" href="classStiKalmanTrack.html">StiKalmanTrack</a>*, <font class="keyword">const</font> <a class="code" href="classStTpcHitFilter.html">StTpcHitFilter</a>* filter=0) <font class="keyword">const</font>;
00082 
00083     pair&lt;double, double&gt; <a class="code" href="classStiGeometryTransform.html#a23">angleAndPosition</a>(<font class="keyword">const</font> StTpcHit*) <font class="keyword">const</font>;
00084 
00085 <font class="keyword">protected</font>: 
00086 
00087     <a class="code" href="classStiGeometryTransform.html#b0">StiGeometryTransform</a>();    
00088     <font class="keyword">virtual</font> <a class="code" href="classStiGeometryTransform.html#b1">~StiGeometryTransform</a>();
00089 
00090     <font class="keyword">static</font> <a class="code" href="classStiGeometryTransform.html">StiGeometryTransform</a>* sinstance;
00091 
00092     <font class="comment">// SVT &amp; SSD database tables</font>
<a name="l00093"></a><a class="code" href="classStiGeometryTransform.html#n0">00093</a>     svg_config_st  svgConfig;
<a name="l00094"></a><a class="code" href="classStiGeometryTransform.html#n1">00094</a>     svg_geom_st  *aSvgGeom;
<a name="l00095"></a><a class="code" href="classStiGeometryTransform.html#n2">00095</a>     svg_shape_st *aSvgShape;
00096 
<a name="l00097"></a><a class="code" href="classStiGeometryTransform.html#n3">00097</a>     StTpcCoordinateTransform* tpcTransform;
00098 
<a name="l00099"></a><a class="code" href="classStiGeometryTransform.html#n4">00099</a>     padrow_radius_map mpadrowradiusmap;
00100 
00101 };
00102 
00103 
00104 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:31 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
