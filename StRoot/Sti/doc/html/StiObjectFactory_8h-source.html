<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiObjectFactory.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiObjectFactory.h</h1><a href="StiObjectFactory_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//StiObjectFactory.h</font>
00002 <font class="comment">//Original Author: Claude Pruneau (Wayne State U)</font>
00003 <font class="comment">//Converted to template 5/17/01, Mike Miller (Yale)</font>
00004 
00005 <font class="preprocessor">#ifndef StiObjectFactory_H</font>
00006 <font class="preprocessor">#define StiObjectFactory_H</font>
00007 
00008 <font class="preprocessor">#include &lt;iostream&gt;</font>
00009 <font class="preprocessor">#include &lt;vector&gt;</font>
00010 <font class="preprocessor">#include &lt;string&gt;</font>
00011 
00012 <font class="keyword">using</font> std::vector;
00013 <font class="keyword">using</font> std::cout;
00014 <font class="keyword">using</font> std::endl;
00015 <font class="keyword">using</font> std::ostream;
00016 <font class="keyword">using</font> std::string;
00017 
<a name="l00018"></a><a class="code" href="classStiObjectFactory.html">00018</a> <font class="keyword">class </font><a class="code" href="classStiObjectFactory.html">StiObjectFactory</a> 
00019 {
00020 <font class="keyword">public</font>:
00021 
<a name="l00022"></a><a class="code" href="classStiObjectFactory.html#s0">00022</a>     <font class="keyword">typedef</font> vector&lt;void*&gt; t_vector;
00023     <a class="code" href="classStiObjectFactory.html#a0">StiObjectFactory</a>(<font class="keyword">const</font> string&amp; newName, <font class="keywordtype">int</font> original, <font class="keywordtype">int</font> incremental, <font class="keywordtype">int</font> maxInc);
00024     
00025     <font class="keyword">virtual</font> <a class="code" href="classStiObjectFactory.html#a1">~StiObjectFactory</a>();
00026 
00027     <font class="comment">// Declare all objects owned by this container as unused.</font>
00028     <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a2">reset</a>();
00029     
00030     <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a3">setIncrementalSize</a>(<font class="keywordtype">int</font>);
00031     
00032     <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a4">setMaxIncrementCount</a>(<font class="keywordtype">int</font>);
00033     
00034     <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a5">getIncrementalSize</a>() <font class="keyword">const</font>;
00035     
00036     <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a6">getMaxIncrementCount</a>() <font class="keyword">const</font>;
00037 
00038     <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a7">getCurrentSize</a>() <font class="keyword">const</font>;
00039     
00040     string&amp; <a class="code" href="classStiObjectFactory.html#a8">getName</a>() <font class="keyword">const</font>;
00041     
00042 <font class="keyword">protected</font>:
00043 
00044     <font class="comment">//Author of derived classes must call initialize after construction.</font>
00045     <font class="comment">//Internal protection against re-initialization;</font>
00046     <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#b0">initialize</a>();
00047     
00048     <font class="keywordtype">void</font>* <a class="code" href="classStiObjectFactory.html#b1">returnObject</a>();
00049     
00050     <font class="keyword">virtual</font> <font class="keywordtype">void</font>* <a class="code" href="classStiObjectFactory.html#b2">makeNewObject</a>() <font class="keyword">const</font> = 0;
00051     
00052 <font class="keyword">private</font>:
00053     
00054     <a class="code" href="classStiObjectFactory.html#a0">StiObjectFactory</a>(); <font class="comment">//Not implemented</font>
00055     
00056     <font class="keyword">enum</font> StiObjectFacotryDefaults {defaultMaxIncrementCount = 10, 
00057                                    defaultIncrementSize=5000,defaultOriginalSize=10000};
00058     
00059     <font class="keywordtype">void</font> createObjects(<font class="keywordtype">int</font>);
00060     <font class="keywordtype">bool</font> initialized;
00061     string name;
00062     <font class="keywordtype">int</font> originalSize;
00063     <font class="keywordtype">int</font> incrementalSize;
00064     <font class="keywordtype">int</font> maxIncrementCount;
00065     <font class="keywordtype">int</font> incrementCount;
00066     
00067     t_vector container;
00068     t_vector::iterator mCurrent;    
00069 };
00070 
00071 
<a name="l00072"></a><a class="code" href="classStiObjectFactory.html#a2">00072</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a2">StiObjectFactory::reset</a>()<font class="keyword">  </font>
00073 {
00074     mCurrent = container.begin();
00075 }
00076 
<a name="l00077"></a><a class="code" href="classStiObjectFactory.html#a3">00077</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a3">StiObjectFactory::setIncrementalSize</a>(<font class="keywordtype">int</font> increment)<font class="keyword"> </font>
00078 {
00079     incrementalSize = increment;
00080 }   
00081 
<a name="l00082"></a><a class="code" href="classStiObjectFactory.html#a4">00082</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#a4">StiObjectFactory::setMaxIncrementCount</a>(<font class="keywordtype">int</font> maxCount)<font class="keyword"> </font>
00083 {
00084     maxIncrementCount = maxCount;
00085 }    
00086 
<a name="l00087"></a><a class="code" href="classStiObjectFactory.html#a5">00087</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a5">StiObjectFactory::getIncrementalSize</a>()<font class="keyword"> const </font>
00088 {
00089     <font class="keywordflow">return</font> incrementalSize;
00090 }
00091 
<a name="l00092"></a><a class="code" href="classStiObjectFactory.html#a6">00092</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a6">StiObjectFactory::getMaxIncrementCount</a>()<font class="keyword"> const </font>
00093 {
00094     <font class="keywordflow">return</font> maxIncrementCount;
00095 }
00096 
<a name="l00097"></a><a class="code" href="classStiObjectFactory.html#a7">00097</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> <a class="code" href="classStiObjectFactory.html#a7">StiObjectFactory::getCurrentSize</a>()<font class="keyword"> const </font>
00098 {
00099     <font class="keywordflow">return</font> container.size();
00100 }
00101 
<a name="l00102"></a><a class="code" href="classStiObjectFactory.html#b0">00102</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiObjectFactory.html#b0">StiObjectFactory::initialize</a>()<font class="keyword"></font>
00103 {
00104     <font class="keywordflow">if</font> (initialized==<font class="keyword">false</font>) {
00105         createObjects(originalSize);
00106         initialized=<font class="keyword">true</font>;
00107     }
00108 }
00109 
00110 <font class="preprocessor">#endif</font>
00111 
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:32 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
