<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CombinationIterator.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>CombinationIterator.h</h1><a href="CombinationIterator_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//CombinationIterator.h</font>
00002 <font class="comment">//M.L. Miller (Yale Software)</font>
00003 <font class="comment">//03/01</font>
00004 
00005 <font class="comment">//Templated, 3/29/01, MLM</font>
00006 
00007 <font class="preprocessor">#ifndef CombinationIterator_HH</font>
00008 <font class="preprocessor">#define CombinationIterator_HH</font>
00009 
00010 <font class="preprocessor">#include &lt;vector&gt;</font>
00011 <font class="keyword">using</font> std::vector;
00012 
00013 template &lt;class T&gt;
<a name="l00014"></a><a class="code" href="classCombinationIterator.html">00014</a> <font class="keyword">class </font><a class="code" href="classCombinationIterator.html">CombinationIterator</a>
00015 {
00016 <font class="keyword">public</font>:
<a name="l00017"></a><a class="code" href="classCombinationIterator.html#s0">00017</a>     <font class="keyword">typedef</font> vector&lt;T&gt; tvector;
00018 
<a name="l00032"></a><a class="code" href="classCombinationIterator.html#a0">00032</a>     <a class="code" href="classCombinationIterator.html#a0">CombinationIterator</a>()<font class="keyword"> </font>{}; 
00033 
<a name="l00035"></a><a class="code" href="classCombinationIterator.html#a1">00035</a>     <font class="keyword">virtual</font> <a class="code" href="classCombinationIterator.html#a1">~CombinationIterator</a>()<font class="keyword"> </font>{};
00036     
00038     <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a2">push_back</a>(tvector::const_iterator begin, tvector::const_iterator end);
00039     
00041     <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a3">clear</a>();
00042   
00044     <font class="keywordtype">int</font> <a class="code" href="classCombinationIterator.html#a4">size</a>() <font class="keyword">const</font>;
00045 
00047     <font class="keywordtype">bool</font> <a class="code" href="classCombinationIterator.html#a5">valid</a>() <font class="keyword">const</font>;
00048   
00050     <font class="keyword">const</font> tvector::const_iterator&amp; <a class="code" href="classCombinationIterator.html#a6">end</a>() <font class="keyword">const</font>;
00051     
00053     <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a7">init</a>();
00054     
00056     <font class="keywordtype">bool</font> <a class="code" href="classCombinationIterator.html#a8">operator==</a>(<font class="keyword">const</font> tvector::const_iterator&amp; rhs) <font class="keyword">const</font>;
00057 
00059     <font class="keywordtype">bool</font> <font class="keyword">operator</font>!=(<font class="keyword">const</font> tvector::const_iterator&amp; rhs) <font class="keyword">const</font>;
00060     
00062     <a class="code" href="classCombinationIterator.html">CombinationIterator</a>&amp; <font class="keyword">operator</font>++ ();
00063     
00065     <a class="code" href="classCombinationIterator.html">CombinationIterator</a> <a class="code" href="classCombinationIterator.html#a10">operator++</a>(<font class="keywordtype">int</font>);
00066     
00069     <font class="keyword">const</font> tvector&amp; <a class="code" href="classCombinationIterator.html#a12">operator* </a>();
00070     
00072     <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a13">print</a>() <font class="keyword">const</font>;
00073     
00074 <font class="keyword">private</font>:
00075     
00077     <font class="keyword">class</font> VectorEntry
00078     {
00079     <font class="keyword">public</font>:
00080         VectorEntry(tvector::const_iterator begin, tvector::const_iterator end) 
00081             : beginIt(begin), endIt(end) {<a class="code" href="classCombinationIterator.html#a7">init</a>();}
00082         
00083         <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a7">init</a>()<font class="keyword"> </font>{currentIt = beginIt;}
00084         
00085         tvector::const_iterator beginIt;
00086         tvector::const_iterator endIt;
00087         tvector::const_iterator currentIt;
00088         
00089     <font class="keyword">private</font>:
00090         VectorEntry(); 
00091     }; <font class="comment">//End nested class VectorEntry definition</font>
00092     
00093     
00094     <font class="keyword">typedef</font> vector&lt;VectorEntry&gt; vector_entry_vector;
00095     
00096 <font class="keyword">private</font>:
00097     
00098     vector_entry_vector mvector;
00099     tvector mreturnvector; 
00100 };
00101 
00102 <font class="comment">//implementation and inlines</font>
00103 
00104 template &lt;class T&gt;
<a name="l00105"></a><a class="code" href="classCombinationIterator.html#a2">00105</a> <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a2">CombinationIterator&lt;T&gt;::push_back</a>(tvector::const_iterator begin, 
00106                                        tvector::const_iterator end)<font class="keyword"> </font>
00107 {
00108     <font class="keywordflow">if</font> (end==begin) {
00109         cout &lt;&lt;<font class="stringliteral">"template &lt;class T&gt; StiCombinationIterator::push_back()\tError: vec is empty"</font>&lt;&lt;endl;
00110     }
00111     VectorEntry entry(begin, end);
00112     mvector.push_back(entry);
00113     <font class="keywordflow">return</font>;
00114 }
00115 
00116 template &lt;class T&gt;
<a name="l00117"></a><a class="code" href="classCombinationIterator.html#a3">00117</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a3">CombinationIterator&lt;T&gt;::clear</a>()<font class="keyword"> </font>
00118 {
00119     mvector.clear();
00120     mreturnvector.clear();
00121 }
00122 
00123 template &lt;class T&gt;
<a name="l00124"></a><a class="code" href="classCombinationIterator.html#a10">00124</a> <a class="code" href="classCombinationIterator.html">CombinationIterator&lt;T&gt;</a>&amp; <a class="code" href="classCombinationIterator.html#a10">CombinationIterator&lt;T&gt;::operator++ </a>()<font class="keyword"></font>
00125 { 
00126     <font class="keywordtype">bool</font> incremented=<font class="keyword">false</font>;
00127     <font class="keywordflow">for</font> (vector_entry_vector::iterator mvectorit=mvector.begin(); 
00128          mvectorit!=mvector.end() &amp;&amp; !incremented; ++mvectorit) {
00129         <font class="keywordflow">if</font> ( (mvectorit!=(mvector.end()-1)) &amp;&amp; (*mvectorit).currentIt == ((*mvectorit).endIt-1) ) {
00130             <font class="comment">//We're at the end, reset to beginning and increment the next guy</font>
00131             (*mvectorit).init();
00132         }
00133         <font class="keywordflow">else</font> {
00134             <font class="comment">//cout &lt;&lt;"Incrementing"&lt;&lt;endl;</font>
00135             ++(*mvectorit).currentIt;
00136             incremented=<font class="keyword">true</font>;
00137         }
00138     }
00139     <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00140 }
00141 
00142 template &lt;class T&gt;
<a name="l00143"></a><a class="code" href="classCombinationIterator.html#a11">00143</a> <a class="code" href="classCombinationIterator.html">CombinationIterator&lt;T&gt;</a> <a class="code" href="classCombinationIterator.html#a10">CombinationIterator&lt;T&gt;::operator++</a>(<font class="keywordtype">int</font>)<font class="keyword"></font>
00144 {
00145     <a class="code" href="classCombinationIterator.html">CombinationIterator</a> temp = *<font class="keyword">this</font>;
00146     ++(*this);
00147     <font class="keywordflow">return</font> temp;
00148 }
00149 
00150 template &lt;class T&gt;
<a name="l00151"></a><a class="code" href="classCombinationIterator.html#a4">00151</a> <font class="keywordtype">int</font> <a class="code" href="classCombinationIterator.html#a4">CombinationIterator&lt;T&gt;::size</a>()<font class="keyword"> const </font>
00152 {
00153     <font class="keywordtype">int</font> storesize=1;
00154     <font class="keywordflow">for</font> (vector_entry_vector::const_iterator it=mvector.begin(); it!=mvector.end(); ++it) {
00155         storesize *= (*it).endIt-(*it).beginIt;
00156     }
00157     <font class="keywordflow">return</font> storesize;
00158 }
00159 
00160 template &lt;class T&gt;
<a name="l00161"></a><a class="code" href="classCombinationIterator.html#a8">00161</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="classCombinationIterator.html#a8">CombinationIterator&lt;T&gt;::operator==</a>(<font class="keyword">const</font> tvector::const_iterator&amp; rhs)<font class="keyword"> const</font>
00162 {
00163     <font class="keywordflow">return</font> (mvector.back().currentIt == rhs);
00164 }
00165 
00166 template &lt;class T&gt;
<a name="l00167"></a><a class="code" href="classCombinationIterator.html#a9">00167</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="classCombinationIterator.html#a9">CombinationIterator&lt;T&gt;::operator!=</a>(<font class="keyword">const</font> tvector::const_iterator&amp; rhs)<font class="keyword"> const</font>
00168 {
00169     <font class="keywordflow">return</font> !(<a class="code" href="classCombinationIterator.html#a8">operator==</a>(rhs));
00170 }
00171 
00172 template &lt;class T&gt;
00173 <font class="keyword">inline</font> <font class="keyword">const</font> <a class="code" href="classCombinationIterator.html">CombinationIterator&lt;T&gt;</a>::tvector::const_iterator&amp;  <font class="comment">//return type</font>
<a name="l00174"></a><a class="code" href="classCombinationIterator.html#a6">00174</a> <a class="code" href="classCombinationIterator.html#a6">CombinationIterator&lt;T&gt;::end</a>()<font class="keyword"> const </font>
00175 {
00176     <font class="keywordflow">return</font> mvector.back().endIt;
00177 }
00178 
00179 template &lt;class T&gt;
<a name="l00180"></a><a class="code" href="classCombinationIterator.html#a7">00180</a> <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a7">CombinationIterator&lt;T&gt;::init</a>()<font class="keyword"> </font>
00181 {
00182     <font class="keywordflow">for</font> (vector_entry_vector::iterator it=mvector.begin(); it!=mvector.end(); ++it) {
00183         (*it).init();
00184     }
00185     <font class="keywordflow">return</font>;
00186 }
00187 
00188 template &lt;class T&gt;
<a name="l00189"></a><a class="code" href="classCombinationIterator.html#a5">00189</a> <font class="keywordtype">bool</font> <a class="code" href="classCombinationIterator.html#a5">CombinationIterator&lt;T&gt;::valid</a>()<font class="keyword"> const</font>
00190 {
00191     <font class="keywordtype">bool</font> ok = <font class="keyword">true</font>;
00192     <font class="keywordflow">for</font> (vector_entry_vector::const_iterator it=mvector.begin(); it!=mvector.end(); ++it) {
00193         <font class="keywordflow">if</font> ( (*it).endIt - (*it).beginIt &lt;=1) {
00194             ok = <font class="keyword">false</font>;
00195         }
00196     }
00197     <font class="keywordflow">return</font> ok;
00198 }
00199 
00200 template &lt;class T&gt;
00201 <font class="keyword">const</font> <a class="code" href="classCombinationIterator.html">CombinationIterator&lt;T&gt;</a>::tvector&amp; 
<a name="l00202"></a><a class="code" href="classCombinationIterator.html#a12">00202</a> <a class="code" href="classCombinationIterator.html#a12">CombinationIterator&lt;T&gt;::operator* </a>()<font class="keyword"> </font>
00203 {
00204     mreturnvector.clear();
00205     <font class="keywordflow">for</font> (vector_entry_vector::const_iterator it=mvector.begin(); it!=mvector.end(); ++it) {
00206         mreturnvector.push_back( * (*it).currentIt );
00207     }
00208     <font class="keywordflow">return</font> mreturnvector;
00209 }
00210 
00211 template &lt;class T&gt;  
<a name="l00212"></a><a class="code" href="classCombinationIterator.html#a13">00212</a> <font class="keywordtype">void</font> <a class="code" href="classCombinationIterator.html#a13">CombinationIterator&lt;T&gt;::print</a>()<font class="keyword"> const </font>
00213 {
00214     cout &lt;&lt;<font class="stringliteral">"\n-----------Contents of Mvector---------------"</font>&lt;&lt;endl;
00215     <font class="keywordflow">for</font> (vector_entry_vector::const_iterator it=mvector.begin(); it!=mvector.end(); ++it) {    
00216         cout &lt;&lt;<font class="stringliteral">"\t Contents of next entry \t"</font>&lt;&lt;endl;
00217         cout &lt;&lt;<font class="stringliteral">"\t Tvector:"</font>&lt;&lt;endl;
00218         <font class="keywordflow">for</font> (tvector::const_iterator it2=(*it).beginIt; it2!=(*it).endIt; ++it2) {
00219             cout &lt;&lt;<font class="stringliteral">"\t\t"</font>&lt;&lt;(*it2)&lt;&lt;endl;
00220         }
00221         cout &lt;&lt;<font class="stringliteral">"\t Iterator:\t"</font>&lt;&lt;endl;
00222         cout &lt;&lt;<font class="stringliteral">"\t\t"</font>&lt;&lt;(*((*it).currentIt))&lt;&lt;endl;
00223     }  
00224     <font class="keywordflow">return</font>;
00225 }
00226 
00227 <font class="preprocessor">#endif</font>
00228 
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:27 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
