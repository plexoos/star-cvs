<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiCompositeTreeNode.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiCompositeTreeNode.h</h1><a href="StiCompositeTreeNode_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//StiCompositeTreeNode</font>
00002 <font class="comment">//M.L. Miller (Yale Software)</font>
00003 <font class="comment">//07/01</font>
00004 
00005 <font class="preprocessor">#ifndef StiCompositeTreeNode_H</font>
00006 <font class="preprocessor">#define StiCompositeTreeNode_H</font>
00007 
00008 <font class="preprocessor">#include &lt;iostream&gt;</font>
00009 <font class="preprocessor">#include &lt;vector&gt;</font>
00010 <font class="preprocessor">#include &lt;string&gt;</font>
00011 <font class="preprocessor">#include &lt;algorithm&gt;</font>
00012 
00013 <font class="keyword">using</font> std::find;
00014 <font class="keyword">using</font> std::vector;
00015 <font class="keyword">using</font> std::string;
00016 <font class="keyword">using</font> std::cout;
00017 <font class="keyword">using</font> std::ostream;
00018 <font class="keyword">using</font> std::endl;
00019 
<a name="l00020"></a><a class="code" href="StiCompositeTreeNode_8h.html#a0">00020</a> <font class="keyword">typedef</font> <font class="keywordtype">double</font> <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a>;
00021 
00022 template &lt;class T&gt;
<a name="l00023"></a><a class="code" href="classStiCompositeTreeNode.html">00023</a> <font class="keyword">class </font><a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>
00024 {
00025 <font class="keyword">public</font>:
00026 
00027     <a class="code" href="classStiCompositeTreeNode.html#a0">StiCompositeTreeNode</a>();
00028     <font class="keyword">virtual</font> <a class="code" href="classStiCompositeTreeNode.html#a1">~StiCompositeTreeNode</a>();
00029     
00030     <font class="comment">//Sets</font>
00031     <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a2">setName</a>(<font class="keyword">const</font> string&amp;);
00032     
00033     <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a3">setOrderKey</a>(<font class="keyword">const</font> <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a>&amp;);
00034     
00035     <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a4">setData</a>(T*);
00036     
00037     <font class="comment">//Gets</font>
00038     <font class="keyword">const</font> string&amp; <a class="code" href="classStiCompositeTreeNode.html#a5">getName</a>() <font class="keyword">const</font>;
00039     
00040     <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> <a class="code" href="classStiCompositeTreeNode.html#a6">getChildCount</a>() <font class="keyword">const</font>;
00041     
00042     <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>* <a class="code" href="classStiCompositeTreeNode.html#a7">getParent</a>() <font class="keyword">const</font>;
00043     
00044     <font class="keyword">const</font> <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a>&amp; <a class="code" href="classStiCompositeTreeNode.html#a8">getOrderKey</a>() <font class="keyword">const</font>;
00045     
00046     T* <a class="code" href="classStiCompositeTreeNode.html#a9">getData</a>() <font class="keyword">const</font>;
00047     
00048     <font class="comment">//Action</font>
00049     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a10">add</a>(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>*);
00050     
00051 <font class="keyword">public</font>:
00052     <font class="comment">//provide random access iterators to daughters</font>
<a name="l00053"></a><a class="code" href="classStiCompositeTreeNode.html#s0">00053</a>     <font class="keyword">typedef</font> vector&lt;StiCompositeTreeNode *&gt; vec_type;
<a name="l00054"></a><a class="code" href="classStiCompositeTreeNode.html#s1">00054</a>     <font class="keyword">typedef</font> vector&lt;StiCompositeTreeNode *&gt; StiCompositeTreeNodeVector;
00055     
00056     vec_type::iterator <a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>();
00057     vec_type::iterator <a class="code" href="classStiCompositeTreeNode.html#a12">end</a>();
00058     
00059     vec_type::const_iterator <a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>() <font class="keyword">const</font>;
00060     vec_type::const_iterator <a class="code" href="classStiCompositeTreeNode.html#a12">end</a>() <font class="keyword">const</font>;
00061     
00062     vec_type::reverse_iterator <a class="code" href="classStiCompositeTreeNode.html#a15">rbegin</a>();
00063     vec_type::reverse_iterator <a class="code" href="classStiCompositeTreeNode.html#a16">rend</a>();
00064     
00065     vec_type::const_reverse_iterator <a class="code" href="classStiCompositeTreeNode.html#a15">rbegin</a>() <font class="keyword">const</font>;
00066     vec_type::const_reverse_iterator <a class="code" href="classStiCompositeTreeNode.html#a16">rend</a>() <font class="keyword">const</font>;
00067     
00068 <font class="keyword">private</font>:
00069     
00070     <font class="keywordtype">void</font> setParent(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>* val);
00071     
00072     vec_type mVec;
00073     <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>* mparent;
00074     T* mdata;  
00075     <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a> mkey;
00076     string mname;
00077 };
00078 
00079 <font class="comment">//Implementation</font>
00080 
00081 template &lt;class T&gt;
<a name="l00082"></a><a class="code" href="classStiCompositeTreeNode.html#a0">00082</a> <a class="code" href="classStiCompositeTreeNode.html#a0">StiCompositeTreeNode&lt;T&gt;::StiCompositeTreeNode</a>() : mparent(0), mdata(0), mkey(0) 
00083 {
00084 }
00085 
00086 template &lt;class T&gt;
<a name="l00087"></a><a class="code" href="classStiCompositeTreeNode.html#a1">00087</a> <a class="code" href="classStiCompositeTreeNode.html#a1">StiCompositeTreeNode&lt;T&gt;::~StiCompositeTreeNode</a>()<font class="keyword"></font>
00088 {
00089 }
00090 
00091 template &lt;class T&gt;
<a name="l00092"></a><a class="code" href="classStiCompositeTreeNode.html#a2">00092</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a2">StiCompositeTreeNode&lt;T&gt;::setName</a>(<font class="keyword">const</font> string&amp; val)<font class="keyword"> </font>
00093 {
00094     mname = val;
00095 }
00096 
00097 template &lt;class T&gt;
<a name="l00098"></a><a class="code" href="classStiCompositeTreeNode.html#a3">00098</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a3">StiCompositeTreeNode&lt;T&gt;::setOrderKey</a>(<font class="keyword">const</font> <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a>&amp; val)<font class="keyword"></font>
00099 {
00100     mkey=val;
00101 }
00102 
00103 template &lt;class T&gt;
<a name="l00104"></a><a class="code" href="classStiCompositeTreeNode.html#a4">00104</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a4">StiCompositeTreeNode&lt;T&gt;::setData</a>(T* val)<font class="keyword"> </font>
00105 {
00106     mdata=val;
00107 }
00108 
00109 template &lt;class T&gt;
<a name="l00110"></a><a class="code" href="classStiCompositeTreeNode.html#a5">00110</a> <font class="keyword">inline</font> <font class="keyword">const</font> string&amp; <a class="code" href="classStiCompositeTreeNode.html#a5">StiCompositeTreeNode&lt;T&gt;::getName</a>()<font class="keyword"> const </font>
00111 {
00112     <font class="keywordflow">return</font> mname;
00113 }
00114 
00115 template &lt;class T&gt;
<a name="l00116"></a><a class="code" href="classStiCompositeTreeNode.html#a6">00116</a> <font class="keyword">inline</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> <a class="code" href="classStiCompositeTreeNode.html#a6">StiCompositeTreeNode&lt;T&gt;::getChildCount</a>()<font class="keyword"> const</font>
00117 {
00118     <font class="keywordflow">return</font> mVec.size();
00119 }
00120 
00121 template &lt;class T&gt;
00122 <font class="keyword">inline</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>*
<a name="l00123"></a><a class="code" href="classStiCompositeTreeNode.html#a7">00123</a> <a class="code" href="classStiCompositeTreeNode.html#a7">StiCompositeTreeNode&lt;T&gt;::getParent</a>()<font class="keyword"> const </font>
00124 {
00125     <font class="keywordflow">return</font> mparent;
00126 }
00127 
00128 template &lt;class T&gt;
<a name="l00129"></a><a class="code" href="classStiCompositeTreeNode.html#a8">00129</a> <font class="keyword">inline</font> <font class="keyword">const</font> <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a>&amp; <a class="code" href="classStiCompositeTreeNode.html#a8">StiCompositeTreeNode&lt;T&gt;::getOrderKey</a>()<font class="keyword"> const </font>
00130 {
00131     <font class="keywordflow">return</font> mkey;
00132 }
00133 
00134 template &lt;class T&gt;
<a name="l00135"></a><a class="code" href="classStiCompositeTreeNode.html#a9">00135</a> <font class="keyword">inline</font> T* <a class="code" href="classStiCompositeTreeNode.html#a9">StiCompositeTreeNode&lt;T&gt;::getData</a>()<font class="keyword"> const</font>
00136 {
00137     <font class="keywordflow">return</font> mdata;
00138 }
00139 
00140 template &lt;class T&gt;
<a name="l00141"></a><a class="code" href="classStiCompositeTreeNode.html#a10">00141</a> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeTreeNode.html#a10">StiCompositeTreeNode&lt;T&gt;::add</a>(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>* newChild)<font class="keyword"> </font>
00142 {
00143     <font class="keywordflow">if</font> (!newChild) <font class="keywordflow">return</font>;
00144     StiCompositeTreeNodeVector::iterator where = find(mVec.begin(), mVec.end(), newChild);
00145     <font class="comment">//Remove if we see an efficiency penalty</font>
00146     <font class="keywordflow">if</font> (where!=<a class="code" href="classStiCompositeTreeNode.html#a12">end</a>())<font class="keyword"> </font>{
00147         cout &lt;&lt;<font class="stringliteral">"StiCompositeTreeNode::add()\t Child Already exists.  Abort"</font>&lt;&lt;endl;
00148         <font class="keywordflow">return</font>;
00149     }
00150     <font class="comment">//else add to list, set parent</font>
00151     newChild-&gt;setParent(<font class="keyword">this</font>);
00152     mVec.push_back(newChild);
00153 }
00154 
00155 template &lt;class T&gt;
00156 <font class="keyword">inline</font> <font class="keywordtype">void</font> StiCompositeTreeNode&lt;T&gt;::setParent(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode</a>* val)<font class="keyword"> </font>
00157 {
00158     <font class="keywordflow">if</font> (mparent) {
00159         cout &lt;&lt;<font class="stringliteral">"StiCompositeTreeNode::setParent()\tError:\tparent already exists"</font>&lt;&lt;endl;
00160         <font class="keywordflow">return</font>;
00161         }
00162     mparent=val;
00163     <font class="keywordflow">return</font>;
00164 }
00165 
00166 template &lt;class T&gt;
00167 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::iterator <font class="comment">//return type</font>
<a name="l00168"></a><a class="code" href="classStiCompositeTreeNode.html#a11">00168</a> <a class="code" href="classStiCompositeTreeNode.html#a11">StiCompositeTreeNode&lt;T&gt;::begin</a>()<font class="keyword"></font>
00169 {
00170     <font class="keywordflow">return</font> mVec.begin();
00171 }
00172 
00173 template &lt;class T&gt;
00174 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::iterator <font class="comment">//return type</font>
<a name="l00175"></a><a class="code" href="classStiCompositeTreeNode.html#a12">00175</a> <a class="code" href="classStiCompositeTreeNode.html#a12">StiCompositeTreeNode&lt;T&gt;::end</a>()<font class="keyword"></font>
00176 {
00177     <font class="keywordflow">return</font> mVec.end();
00178 }
00179 
00180 template &lt;class T&gt;
00181 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::const_iterator <font class="comment">//return type</font>
<a name="l00182"></a><a class="code" href="classStiCompositeTreeNode.html#a13">00182</a> <a class="code" href="classStiCompositeTreeNode.html#a11">StiCompositeTreeNode&lt;T&gt;::begin</a>()<font class="keyword"> const</font>
00183 {
00184     <font class="keywordflow">return</font> mVec.begin();
00185 }
00186 
00187 template &lt;class T&gt;
00188 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::const_iterator <font class="comment">//return type</font>
<a name="l00189"></a><a class="code" href="classStiCompositeTreeNode.html#a14">00189</a> <a class="code" href="classStiCompositeTreeNode.html#a12">StiCompositeTreeNode&lt;T&gt;::end</a>()<font class="keyword"> const</font>
00190 {
00191     <font class="keywordflow">return</font> mVec.end();
00192 }
00193 
00194 template &lt;class T&gt;
00195 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::reverse_iterator <font class="comment">//return type</font>
<a name="l00196"></a><a class="code" href="classStiCompositeTreeNode.html#a15">00196</a> <a class="code" href="classStiCompositeTreeNode.html#a15">StiCompositeTreeNode&lt;T&gt;::rbegin</a>()<font class="keyword"></font>
00197 {
00198     <font class="keywordflow">return</font> mVec.rbegin();
00199 }
00200 
00201 template &lt;class T&gt;
00202 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::reverse_iterator <font class="comment">//return type</font>
<a name="l00203"></a><a class="code" href="classStiCompositeTreeNode.html#a16">00203</a> <a class="code" href="classStiCompositeTreeNode.html#a16">StiCompositeTreeNode&lt;T&gt;::rend</a>()<font class="keyword"></font>
00204 {
00205     <font class="keywordflow">return</font> mVec.rend();
00206 }
00207 
00208 template &lt;class T&gt;
00209 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::const_reverse_iterator <font class="comment">//return type</font>
<a name="l00210"></a><a class="code" href="classStiCompositeTreeNode.html#a17">00210</a> <a class="code" href="classStiCompositeTreeNode.html#a15">StiCompositeTreeNode&lt;T&gt;::rbegin</a>()<font class="keyword"> const</font>
00211 {
00212     <font class="keywordflow">return</font> mVec.rbegin();
00213 }
00214 
00215 template &lt;class T&gt;
00216 <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>::vec_type::const_reverse_iterator <font class="comment">//return type</font>
<a name="l00217"></a><a class="code" href="classStiCompositeTreeNode.html#a18">00217</a> <a class="code" href="classStiCompositeTreeNode.html#a16">StiCompositeTreeNode&lt;T&gt;::rend</a>()<font class="keyword"> const</font>
00218 {
00219     <font class="keywordflow">return</font> mVec.rend();
00220 }
00221 
00222 <font class="comment">//For now, include some typdefs that will make for easy user includes</font>
00223 <font class="preprocessor">#include "<a class="code" href="StiDetector_8h.html">StiDetector.h</a>"</font>
<a name="l00224"></a><a class="code" href="StiCompositeTreeNode_8h.html#a1">00224</a> <font class="keyword">typedef</font> <a class="code" href="classStiDetector.html">StiDetector</a> <a class="code" href="classStiDetector.html">data_t</a>;
00225 
00226 <font class="preprocessor">#ifndef __CINT__</font>
<a name="l00227"></a><a class="code" href="StiCompositeTreeNode_8h.html#a2">00227</a> <font class="keyword">typedef</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;data_t&gt;</a> <a class="code" href="classStiCompositeTreeNode.html">data_node</a>;
00228 <font class="preprocessor">#else</font>
00229 <font class="keyword">class </font><a class="code" href="classStiCompositeTreeNode.html">data_node</a>;
00230 <font class="preprocessor">#endif</font>
00231   
<a name="l00232"></a><a class="code" href="StiCompositeTreeNode_8h.html#a3">00232</a> <font class="keyword">typedef</font> vector&lt;data_node*&gt; <a class="code" href="StiCompositeTreeNode_8h.html#a3">data_node_vec</a>; 
00233 
00234 <font class="comment">//typedef StiObjectFactory&lt;data_node&gt; data_node_factory;</font>
00235 
00236 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:30 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
