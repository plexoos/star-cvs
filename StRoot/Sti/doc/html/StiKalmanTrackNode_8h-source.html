<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiKalmanTrackNode.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiKalmanTrackNode.h</h1><a href="StiKalmanTrackNode_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#ifndef StiKalmanTrackNode_H</font>
<a name="l00002"></a><a class="code" href="StiKalmanTrackNode_8h.html#a0">00002</a> <font class="preprocessor">#define StiKalmanTrackNode_H 1</font>
00003 <font class="preprocessor">#include &lt;iostream.h&gt;</font>
00004 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00005 <font class="preprocessor">#include "<a class="code" href="Exception_8h.html">Exception.h</a>"</font>
00006 <font class="preprocessor">#include "<a class="code" href="StiTrackNode_8h.html">StiTrackNode.h</a>"</font>
00007 
00008 <font class="keyword">class </font><a class="code" href="classStiHit.html">StiHit</a>;
00009 <font class="keyword">class </font><a class="code" href="classStiDetector.html">StiDetector</a>;
00010 
<a name="l00011"></a><a class="code" href="classStiKalmanTrackNode.html">00011</a> <font class="keyword">class </font><a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> : <font class="keyword">public</font> <a class="code" href="classStiTrackNode.html">StiTrackNode</a> 
00012 {
00013   <font class="comment">/* </font>
00014    * A work class used to handle Kalman filter information while
00015    * constructing track nodes.
00016    */
00017 
00018  <font class="keyword">public</font>:
00019         
00020   <font class="keywordtype">void</font> <a class="code" href="classStiTrackNode.html#a0">reset</a>();
00021   <font class="keywordtype">void</font> <a class="code" href="classStiTrackNode.html#a1">set</a>(<font class="keywordtype">int</font>   depth,
00022            <a class="code" href="classStiHit.html">StiHit</a> * hit,
00023            <font class="keyword">const</font> <font class="keywordtype">double</font> alpha,
00024            <font class="keyword">const</font> <font class="keywordtype">double</font> xRef,
00025            <font class="keyword">const</font> <font class="keywordtype">double</font> xx[5], 
00026            <font class="keyword">const</font> <font class="keywordtype">double</font> cc[15], 
00027            <font class="keyword">const</font> <font class="keywordtype">double</font> dEdx,
00028            <font class="keyword">const</font> <font class="keywordtype">double</font> chi2);
00029   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a2">setState</a>(<font class="keyword">const</font> <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * node);
00030   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a3">get</a>(<font class="keywordtype">double</font>&amp; alpha,
00031            <font class="keywordtype">double</font>&amp; xRef,
00032            <font class="keywordtype">double</font> x[5], 
00033            <font class="keywordtype">double</font> cc[15], 
00034            <font class="keywordtype">double</font>&amp; dEdx,
00035            <font class="keywordtype">double</font>&amp; chi2);
00036   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a4">getMomentum</a>(<font class="keywordtype">double</font> p[3], <font class="keywordtype">double</font> e[6]=0) <font class="keyword">const</font>;
00037   <font class="keywordtype">double</font> <a class="code" href="classStiKalmanTrackNode.html#a5">getTanL</a>() <font class="keyword">const</font>;
00038   <font class="keywordtype">double</font> <a class="code" href="classStiKalmanTrackNode.html#a6">getPt</a>() <font class="keyword">const</font>;
00039   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a7">getGlobalMomentum</a>(<font class="keywordtype">double</font> p[3], <font class="keywordtype">double</font> e[6]=0) <font class="keyword">const</font>;
00040   <font class="keywordtype">void</font> <a class="code" href="classStiTrackNode.html#a2">setAsCopyOf</a>(<font class="keyword">const</font> <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * node);
00041     <font class="keywordtype">int</font>  <a class="code" href="classStiKalmanTrackNode.html#a9">propagate</a>(<a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> *p, <a class="code" href="classStiDetector.html">StiDetector</a> * tDet);  <font class="comment">//throw (Exception);</font>
00042   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a9">propagate</a>(<font class="keywordtype">double</font> x, 
00043                  <font class="keywordtype">double</font> x0,   
00044                  <font class="keywordtype">double</font> rho); <font class="comment">//throw (Exception); // mass hypothesis</font>
00045         <font class="keywordtype">double</font> <a class="code" href="classStiKalmanTrackNode.html#a11">evaluateChi2</a>(); <font class="comment">//throw ( Exception);</font>
00046         <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a12">updateNode</a>(); <font class="comment">//throw (Exception);</font>
00047         <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a13">extendToVertex</a>(); <font class="comment">//throw (Exception);</font>
00048         <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrackNode.html#a14">rotate</a>(<font class="keywordtype">double</font> alpha); <font class="comment">//throw ( Exception);</font>
00049   
<a name="l00050"></a><a class="code" href="classStiKalmanTrackNode.html#m0">00050</a>   <font class="keywordtype">double</font> fAlpha;          <font class="comment">// rotation angle</font>
<a name="l00051"></a><a class="code" href="classStiKalmanTrackNode.html#m1">00051</a>   <font class="keywordtype">double</font> fX;              <font class="comment">// X-coordinate of this track (reference plane)</font>
<a name="l00052"></a><a class="code" href="classStiKalmanTrackNode.html#m2">00052</a>   <font class="keywordtype">double</font> fP0;             <font class="comment">// Y-coordinate of a track</font>
<a name="l00053"></a><a class="code" href="classStiKalmanTrackNode.html#m3">00053</a>   <font class="keywordtype">double</font> fP1;             <font class="comment">// Z-coordinate of a track</font>
<a name="l00054"></a><a class="code" href="classStiKalmanTrackNode.html#m4">00054</a>   <font class="keywordtype">double</font> fP2;             <font class="comment">// C*x0</font>
<a name="l00055"></a><a class="code" href="classStiKalmanTrackNode.html#m5">00055</a>   <font class="keywordtype">double</font> fP3;             <font class="comment">// track curvature==C</font>
<a name="l00056"></a><a class="code" href="classStiKalmanTrackNode.html#m6">00056</a>   <font class="keywordtype">double</font> fP4;             <font class="comment">// tangent of the track momentum dip angle</font>
<a name="l00057"></a><a class="code" href="classStiKalmanTrackNode.html#m7">00057</a>   <font class="keywordtype">double</font> fC00;                         <font class="comment">// covariance</font>
<a name="l00058"></a><a class="code" href="classStiKalmanTrackNode.html#m9">00058</a>   <font class="keywordtype">double</font> fC10, fC11;                   <font class="comment">// matrix</font>
<a name="l00059"></a><a class="code" href="classStiKalmanTrackNode.html#m12">00059</a>   <font class="keywordtype">double</font> fC20, fC21, fC22;             <font class="comment">// of the</font>
<a name="l00060"></a><a class="code" href="classStiKalmanTrackNode.html#m16">00060</a>   <font class="keywordtype">double</font> fC30, fC31, fC32, fC33;       <font class="comment">// track</font>
<a name="l00061"></a><a class="code" href="classStiKalmanTrackNode.html#m21">00061</a>   <font class="keywordtype">double</font> fC40, fC41, fC42, fC43, fC44; <font class="comment">// parameters</font>
<a name="l00062"></a><a class="code" href="classStiKalmanTrackNode.html#m22">00062</a>   <font class="keywordtype">double</font> fdEdx;           <font class="comment">// dE/dx </font>
<a name="l00063"></a><a class="code" href="classStiKalmanTrackNode.html#m23">00063</a>   <font class="keywordtype">double</font> fChi2;
00064         
00065   <font class="comment">// static methods</font>
<a name="l00066"></a><a class="code" href="classStiKalmanTrackNode.html#d0">00066</a>   <font class="keyword">static</font> <font class="keywordtype">void</font>    <a class="code" href="classStiKalmanTrackNode.html#d0">setFieldConstant</a>(<font class="keywordtype">double</font> f)<font class="keyword"> </font>{ kField = f;};
<a name="l00067"></a><a class="code" href="classStiKalmanTrackNode.html#d1">00067</a>   <font class="keyword">static</font> <font class="keywordtype">double</font>  <a class="code" href="classStiKalmanTrackNode.html#d1">getFieldConstant</a>()<font class="keyword">         </font>{ <font class="keywordflow">return</font> kField;}; 
00068   <font class="keyword">static</font> <font class="keywordtype">void</font>    <a class="code" href="classStiKalmanTrackNode.html#d2">setMassHypothesis</a>(<font class="keywordtype">double</font> m);
00069   <font class="keyword">static</font> <font class="keywordtype">double</font>  <a class="code" href="classStiKalmanTrackNode.html#d3">getMassHypothesis</a>(); 
00070   <font class="keyword">static</font> <font class="keywordtype">void</font>    <a class="code" href="classStiKalmanTrackNode.html#d4">setElossCalculated</a>(<font class="keywordtype">bool</font> option);
00071   <font class="keyword">static</font> <font class="keywordtype">void</font>    <a class="code" href="classStiKalmanTrackNode.html#d5">setMCSCalculated</a>(<font class="keywordtype">bool</font> option);
00072   <font class="keyword">static</font> <font class="keywordtype">bool</font> StiKalmanTrackNode::getElossCalculated();
00073   <font class="keyword">static</font> <font class="keywordtype">bool</font> StiKalmanTrackNode::getMCSCalculated();  
00074   <font class="keyword">friend</font> ostream&amp; <a class="code" href="classStiTrackNode.html#l0">operator&lt;&lt;</a>(ostream&amp; os, <font class="keyword">const</font> <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a>&amp; n);
00075 
00076         <font class="keyword">static</font> <font class="keywordtype">bool</font>  recurse;
00077 
00078  <font class="keyword">protected</font>:   
00079   
00080   <font class="keyword">static</font> <font class="keywordtype">double</font> kField;
00081   <font class="keyword">static</font> <font class="keywordtype">bool</font>   elossCalculated;
00082   <font class="keyword">static</font> <font class="keywordtype">bool</font>   mcsCalculated;
00083   <font class="keyword">static</font> <font class="keywordtype">double</font> massHypothesis;
00084 };
00085 
00086 <font class="preprocessor">#endif</font>
00087 
00088 
00089 
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:32 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
