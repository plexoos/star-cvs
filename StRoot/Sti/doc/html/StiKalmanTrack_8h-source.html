<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiKalmanTrack.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiKalmanTrack.h</h1><a href="StiKalmanTrack_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#ifndef StiKalmanTrack_H</font>
<a name="l00002"></a><a class="code" href="StiKalmanTrack_8h.html#a0">00002</a> <font class="preprocessor">#define StiKalmanTrack_H 1</font>
00003 
00004 <font class="comment">//SCL</font>
00005 <font class="preprocessor">#include "StThreeVector.hh"</font>
00006 <font class="preprocessor">#include "StThreeVectorF.hh"</font>
00007 
00008 <font class="comment">//STD</font>
00009 <font class="preprocessor">#include &lt;math.h&gt;</font>
00010 
00011 <font class="comment">//Sti</font>
00012 <font class="preprocessor">#include "<a class="code" href="StiObjectFactoryInterface_8h.html">StiObjectFactoryInterface.h</a>"</font>
00013 <font class="preprocessor">#include "<a class="code" href="StiTrack_8h.html">StiTrack.h</a>"</font>
00014 <font class="preprocessor">#include "<a class="code" href="StiKalmanTrackNode_8h.html">StiKalmanTrackNode.h</a>"</font>
00015 <font class="preprocessor">#include "<a class="code" href="StiHitContainer_8h.html">StiHitContainer.h</a>"</font>
00016 
<a name="l00017"></a><a class="code" href="classStiKalmanTrack.html">00017</a> <font class="keyword">class </font><a class="code" href="classStiKalmanTrack.html">StiKalmanTrack</a> : <font class="keyword">public</font> <a class="code" href="classStiTrack.html">StiTrack</a> 
00018 {
00019  <font class="keyword">public</font>:
00020   
00021   <font class="comment">// constructor/destructor/copy/etc</font>
00022   
<a name="l00023"></a><a class="code" href="classStiKalmanTrack.html#a0">00023</a>   <a class="code" href="classStiKalmanTrack.html#a0">StiKalmanTrack</a>()<font class="keyword"> </font>
00024     {
00025       <a class="code" href="classStiTrack.html#a2">reset</a>();
00026     };
<a name="l00027"></a><a class="code" href="classStiKalmanTrack.html#a1">00027</a>   <font class="keyword">virtual</font> <a class="code" href="classStiKalmanTrack.html#a1">~StiKalmanTrack</a>()<font class="keyword"></font>
00028     {
00029     };
00030 
00031     <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#d0">setKalmanTrackNodeFactory</a>(<a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrackNode&gt;</a>*);
00032 
00033     <font class="comment">//Action method for polymorphic graphical behavior</font>
00034     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a2">update</a>();
00035     
00036   <font class="comment">// Action methods</font>
00037   <font class="comment">// Implementation of virtua methods inherited</font>
00038   <font class="comment">// from StiTrack</font>
00039   <font class="keyword">virtual</font> <font class="keywordtype">void</font>    <a class="code" href="classStiTrack.html#a2">reset</a>();
00040   <font class="keyword">virtual</font> <font class="keywordtype">void</font>    <a class="code" href="classStiTrack.html#a7">getMomentum</a>(<font class="keywordtype">double</font> p[3], <font class="keywordtype">double</font> e[6]) <font class="keyword">const</font> ;
00041   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a11">getPt</a>()             <font class="keyword">const</font>                   ;   <font class="comment">// transverse momentum</font>
00042   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a12">getRapidity</a>()       <font class="keyword">const</font>                   ;   <font class="comment">// rapidity</font>
00043   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a13">getPseudoRapidity</a>() <font class="keyword">const</font>                   ;   <font class="comment">// pseudo rapidity</font>
00044   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a14">getPhi</a>()            <font class="keyword">const</font>                   ;   <font class="comment">// azimuthal angle</font>
00045   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a15">getTanL</a>()           <font class="keyword">const</font>                   ;   <font class="comment">// tan(lambda)</font>
00046   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a16">getDca</a>(<a class="code" href="classStiHit.html">StiHit</a> *h=0)    <font class="keyword">const</font>;   <font class="comment">// distance of closest approach to given point/hit</font>
00047   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a17">getDca2</a>(<a class="code" href="classStiTrack.html">StiTrack</a> *t)   <font class="keyword">const</font>;   <font class="comment">// distance of closest approach to given track - 2D calc</font>
00048   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a18">getDca3</a>(<a class="code" href="classStiTrack.html">StiTrack</a> *t)   <font class="keyword">const</font>;   <font class="comment">// distance of closest approach to given track - 3D calc</font>
00049   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a4">getMass</a>()              <font class="keyword">const</font>;   <font class="comment">// mass when pid known</font>
00050   <font class="keyword">virtual</font> <font class="keywordtype">int</font>     <a class="code" href="classStiTrack.html#a5">getCharge</a>()            <font class="keyword">const</font>;   <font class="comment">// charge of the particle</font>
00051   <font class="keyword">virtual</font> <font class="keywordtype">double</font>  <a class="code" href="classStiTrack.html#a6">getChi2</a>()              <font class="keyword">const</font>;   <font class="comment">// chi2 of fit</font>
00052   <font class="keyword">virtual</font> <font class="keywordtype">int</font>     <a class="code" href="classStiTrack.html#a19">getFitPointCount</a>()   <font class="keyword">const</font>;  <font class="comment">// number of points used in fit</font>
00053   <font class="comment">// number of total number of points </font>
00054   <font class="comment">// currently assigned to the track</font>
00055   <font class="keyword">virtual</font> <font class="keywordtype">int</font>     <a class="code" href="classStiTrack.html#a20">getPointCount</a>()      <font class="keyword">const</font>;  
00056   <font class="keyword">virtual</font> <font class="keywordtype">int</font>     <a class="code" href="classStiTrack.html#a21">getStatus</a>()          <font class="keyword">const</font>;  <font class="comment">// status of track</font>
00057   
00058   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="classStiTrack.html#a23">setCharge</a>(<font class="keywordtype">int</font> v);
00059   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="classStiTrack.html#a24">setChi2</a>(<font class="keywordtype">double</font> v);        
00060   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="classStiTrack.html#a25">setFitPointCount</a>(<font class="keywordtype">int</font> v);   
00061   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="classStiTrack.html#a26">setPointCount</a>(<font class="keywordtype">int</font> v);      
00062   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="classStiTrack.html#a27">setStatus</a>(<font class="keywordtype">int</font> v);        
00063 
00064   <font class="comment">// Methods of this class</font>
<a name="l00065"></a><a class="code" href="classStiKalmanTrack.html#a24">00065</a>   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * <a class="code" href="classStiKalmanTrack.html#a24">getFirstNode</a>()  <font class="keyword">const</font> { <font class="keywordflow">return</font> firstNode; };
<a name="l00066"></a><a class="code" href="classStiKalmanTrack.html#a25">00066</a>   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * <a class="code" href="classStiKalmanTrack.html#a25">getLastNode</a>()   <font class="keyword">const</font> { <font class="keywordflow">return</font> lastNode;  };
<a name="l00067"></a><a class="code" href="classStiKalmanTrack.html#a26">00067</a>   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a26">setFirstNode</a>(<a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * n)<font class="keyword"> </font>{firstNode = n;};
<a name="l00068"></a><a class="code" href="classStiKalmanTrack.html#a27">00068</a>   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a27">setLastNode</a>(<a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * n)<font class="keyword">  </font>{lastNode  = n;};
00069   
<a name="l00070"></a><a class="code" href="classStiKalmanTrack.html#a28">00070</a>   <font class="keywordtype">double</font>  <a class="code" href="classStiKalmanTrack.html#a28">getSvtDedx</a>()         <font class="keyword">const</font> { <font class="keywordflow">return</font> svtDedx;};
<a name="l00071"></a><a class="code" href="classStiKalmanTrack.html#a29">00071</a>   <font class="keywordtype">double</font>  <a class="code" href="classStiKalmanTrack.html#a29">getTpcDedx</a>()         <font class="keyword">const</font> { <font class="keywordflow">return</font> tpcDedx;};
<a name="l00072"></a><a class="code" href="classStiKalmanTrack.html#a30">00072</a>   <font class="keywordtype">void</font>   <a class="code" href="classStiKalmanTrack.html#a30">setSvtDedx</a>(<font class="keywordtype">double</font> dedx)<font class="keyword"> </font>{ svtDedx = dedx; };
<a name="l00073"></a><a class="code" href="classStiKalmanTrack.html#a31">00073</a>   <font class="keywordtype">void</font>   <a class="code" href="classStiKalmanTrack.html#a31">setTpcDedx</a>(<font class="keywordtype">double</font> dedx)<font class="keyword"> </font>{ tpcDedx = dedx; };
00074   
00075   <font class="comment">// convenience methods for adding/retrieving points</font>
00076   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * <a class="code" href="classStiKalmanTrack.html#a32">addHit</a>(<a class="code" href="classStiHit.html">StiHit</a> *h);
00077   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * <a class="code" href="classStiKalmanTrack.html#a33">insertHit</a>(<a class="code" href="classStiHit.html">StiHit</a> *hInserted, <a class="code" href="classStiHit.html">StiHit</a> * targetParent);
00078   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a34">removeHit</a>(<a class="code" href="classStiHit.html">StiHit</a> *h);
00079   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a35">removeAllHits</a>();
00080   <font class="keywordtype">int</font>  <a class="code" href="classStiKalmanTrack.html#a36">getHitCount</a>();
00081   <a class="code" href="classStiHit.html">StiHit</a> * <a class="code" href="classStiKalmanTrack.html#a37">getHit</a>(<font class="keywordtype">int</font> index);
00082   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * <a class="code" href="classStiKalmanTrack.html#a38">findHit</a>(<a class="code" href="classStiHit.html">StiHit</a> * h);
00083   
00084   <font class="keywordtype">void</font> <a class="code" href="classStiKalmanTrack.html#a39">initialize</a>(<font class="keywordtype">double</font> curvature,
00085                   <font class="keywordtype">double</font> tanl,
00086                   <font class="keyword">const</font> StThreeVectorD&amp; origin,
00087                   <font class="keyword">const</font> <a class="code" href="StiHitContainer_8h.html#a0">hitvector</a> &amp;);
00088   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> *  <a class="code" href="classStiKalmanTrack.html#a40">getNodeNear</a>(<font class="keywordtype">double</font> x) <font class="keyword">const</font>;
00089   StThreeVector&lt;double&gt; <a class="code" href="classStiKalmanTrack.html#a41">getPointNear</a>(<font class="keywordtype">double</font> x) <font class="keyword">const</font>;
00090   StThreeVector&lt;double&gt; <a class="code" href="classStiKalmanTrack.html#a42">getGlobalPointNear</a>(<font class="keywordtype">double</font> x) <font class="keyword">const</font>;
00091     
00092     <font class="keyword">virtual</font> StThreeVector&lt;double&gt; <a class="code" href="classStiTrack.html#a8">getMomentumAtOrigin</a>();
00093     <font class="keyword">virtual</font> StThreeVector&lt;double&gt; <a class="code" href="classStiTrack.html#a9">getMomentumNear</a>(<font class="keywordtype">double</font> x);
00094     <font class="keyword">virtual</font> StThreeVector&lt;double&gt; <a class="code" href="classStiTrack.html#a10">getHitPositionNear</a>(<font class="keywordtype">double</font> x) <font class="keyword">const</font>;
00095 
00096 <font class="keyword">protected</font>:
00097     
00098   <font class="keyword">static</font> <a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrackNode&gt;</a> * trackNodeFactory;
00099 
<a name="l00100"></a><a class="code" href="classStiKalmanTrack.html#n0">00100</a>   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * firstNode;
<a name="l00101"></a><a class="code" href="classStiKalmanTrack.html#n1">00101</a>   <a class="code" href="classStiKalmanTrackNode.html">StiKalmanTrackNode</a> * lastNode;
<a name="l00102"></a><a class="code" href="classStiKalmanTrack.html#n2">00102</a>   <font class="keywordtype">double</font> svtDedx;
<a name="l00103"></a><a class="code" href="classStiKalmanTrack.html#n3">00103</a>   <font class="keywordtype">double</font> tpcDedx;
00104 };
00105 
00106 #endif
00107 
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:32 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
