<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StiCompositeSeedFinder.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StiCompositeSeedFinder.h</h1><a href="StiCompositeSeedFinder_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//StiCompositeSeedFinder.h</font>
00002 <font class="comment">//M.L. Miller (Yale Software)</font>
00003 <font class="comment">//08/01</font>
00004 
00005 <font class="preprocessor">#ifndef StiCompositeSeedFinder_HH</font>
00006 <font class="preprocessor">#define StiCompositeSeedFinder_HH</font>
00007 
00008 <font class="preprocessor">#include &lt;vector&gt;</font>
00009 <font class="keyword">using</font> std::vector;
00010 <font class="preprocessor">#include &lt;string&gt;</font>
00011 <font class="keyword">using</font> std::string;
00012 
00013 <font class="preprocessor">#include "<a class="code" href="StiSeedFinder_8h.html">StiSeedFinder.h</a>"</font>
00014 <font class="preprocessor">#include "<a class="code" href="StiKalmanTrack_8h.html">StiKalmanTrack.h</a>"</font>
00015 
00016 <font class="keyword">class </font><a class="code" href="classStiTrackSeedFinder.html">StiTrackSeedFinder</a>;
00017 
<a name="l00018"></a><a class="code" href="classStiCompositeSeedFinder.html">00018</a> <font class="keyword">class </font><a class="code" href="classStiCompositeSeedFinder.html">StiCompositeSeedFinder</a> : <font class="keyword">public</font> <a class="code" href="classStiSeedFinder.html">StiSeedFinder</a>
00019 {
00020 <font class="keyword">public</font>:
00021     <a class="code" href="classStiCompositeSeedFinder.html#a0">StiCompositeSeedFinder</a>();
00022     <font class="keyword">virtual</font> <a class="code" href="classStiCompositeSeedFinder.html#a1">~StiCompositeSeedFinder</a>(); <font class="comment">//memory leak on vector!</font>
00023 
00024     <font class="comment">//Inherited User interface</font>
00025     <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classStiSeedFinder.html#a2">hasMore</a>();
00026     <font class="keyword">virtual</font> <a class="code" href="classStiKalmanTrack.html">StiKalmanTrack</a>* <a class="code" href="classStiSeedFinder.html#a3">next</a>();
00027     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classStiSeedFinder.html#a4">build</a>();    
00028     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classStiSeedFinder.html#a5">reset</a>();
00029 
00030     <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a6">setFactory</a>(<a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrack&gt;</a>*);    
00031     <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a7">setBuildPath</a>(<font class="keyword">const</font> string&amp;);
00032     
00033 <font class="keyword">private</font>:
00034     
00035      <font class="comment">//Nested helper class to encapsulate seed finders with their starting points (*Union*)</font>
00036     <font class="keyword">class </font>StiSeedFinderRep
00037     {
00038     <font class="keyword">public</font>:
00039         StiSeedFinderRep(<font class="keyword">const</font> string&amp; buildPath, <a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrack&gt;</a>*);
00040 
00041         <font class="comment">//We instantiate objects on the heap, so we implement "deep copy"</font>
00042         StiSeedFinderRep(<font class="keyword">const</font> StiSeedFinderRep&amp;);
00043         StiSeedFinderRep&amp; operator=(<font class="keyword">const</font> StiSeedFinderRep&amp;);
00044         
00045         <font class="keyword">virtual</font> ~StiSeedFinderRep();
00046         
00047         <font class="comment">//Reset to beginning for each new event</font>
00048         <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a5">reset</a>();
00049 
00050         <font class="comment">//Iterate over start points</font>
00051         <font class="keywordtype">bool</font> hasMoreStartPoints() <font class="keyword">const</font>;
00052         
00053          <font class="comment">//Set seed finder for current start point, then increment start point iterator</font>
00054         <a class="code" href="classStiSeedFinder.html">StiSeedFinder</a>* seedFinder();
00055         
00056     <font class="keyword">private</font>:
00057         <font class="comment">//Deep copy</font>
00058         <font class="keywordtype">void</font> copyToThis(<font class="keyword">const</font> StiSeedFinderRep&amp;);
00059         <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a4">build</a>();
00060 
00061         <font class="comment">//Set seed-finder for current start point</font>
00062         <font class="keywordtype">void</font> init(); 
00063         
00064         StiSeedFinderRep(); <font class="comment">//Not implemented</font>
00065 
00066         <font class="keyword">friend</font> ostream&amp; <a class="code" href="StiMaker_8cxx.html#a0">operator&lt;&lt;</a>(ostream&amp;, <font class="keyword">const</font> StiSeedFinderRep&amp;);
00067 
00068     <font class="keyword">private</font>:
00069         <font class="comment">//Shallow members       </font>
00070         <font class="comment">//For start point stuff </font>
00071         <font class="keyword">typedef</font> vector &lt;StiDetector*&gt; StiDetectorVec_t;
00072         <font class="keyword">typedef</font> vector&lt;StiDetectorVec_t&gt;  IntDetectorMap_t;
00073         <font class="keyword">typedef</font> IntDetectorMap_t::const_iterator IntDetectorMapIterator_t;
00074         
00075         IntDetectorMap_t mIntDetMap;
00076         IntDetectorMap_t::iterator mCurrentStartPoint;
00077         string mBuildPath;
00078         <a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrack&gt;</a>* mTrackFactory;
00079 
00080     <font class="keyword">private</font>:
00081         <font class="comment">//deep members</font>
00082         <a class="code" href="classStiTrackSeedFinder.html">StiTrackSeedFinder</a>* mSeedFinder;
00083         <a class="code" href="structSti2HitComboFilter.html">Sti2HitComboFilter</a>* mHitComboFilter;
00084     };
00085 
00086 
00087 <font class="keyword">private</font>:
00088     <font class="keyword">typedef</font> vector&lt;StiSeedFinderRep&gt; RepVec_t;
00089     <font class="keyword">typedef</font> RepVec_t::iterator RepVecIterator_t;
00090     
00091     <font class="keywordtype">bool</font> incrementRep();
00092 
00093     <a class="code" href="classStiSeedFinder.html">StiSeedFinder</a>* mCurrentSeedFinder;
00094     <a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrack&gt;</a>* mTrackFactory;
00095     string mBuildPath;
00096     
00097     RepVec_t mRepVec;
00098     RepVecIterator_t mCurrentRep;
00099 };
00100 
<a name="l00101"></a><a class="code" href="classStiCompositeSeedFinder.html#a7">00101</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a7">StiCompositeSeedFinder::setBuildPath</a>(<font class="keyword">const</font> string&amp; val)<font class="keyword"></font>
00102 {
00103     mBuildPath=val;
00104 }
00105 
<a name="l00106"></a><a class="code" href="classStiCompositeSeedFinder.html#a6">00106</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="classStiCompositeSeedFinder.html#a6">StiCompositeSeedFinder::setFactory</a>(<a class="code" href="classStiObjectFactoryInterface.html">StiObjectFactoryInterface&lt;StiKalmanTrack&gt;</a>* val)<font class="keyword"></font>
00107 {
00108     mTrackFactory = val;
00109 }
00110 
00111 ostream&amp; <a class="code" href="StiMaker_8cxx.html#a0">operator&lt;&lt;</a>(ostream&amp;, <font class="keyword">const</font> StiCompositeSeedFinder::StiSeedFinderRep&amp;);
00112 
00113 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:30 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
