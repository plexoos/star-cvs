<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>StlUtilities.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>StlUtilities.h</h1><a href="StlUtilities_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//StlUtilities.h</font>
00002 <font class="comment">//M.L. Miller (Yale Software)</font>
00003 <font class="comment">//07/01</font>
00004 
00005 <font class="preprocessor">#ifndef StlUtilities_HH</font>
00006 <font class="preprocessor">#define StlUtilities_HH</font>
00007 
00008 <font class="preprocessor">#include &lt;iostream&gt;</font>
00009 <font class="preprocessor">#include "<a class="code" href="StiCompositeTreeNode_8h.html">StiCompositeTreeNode.h</a>"</font>
00010 <font class="preprocessor">#include "<a class="code" href="StiDetector_8h.html">StiDetector.h</a>"</font>
00011 
00012 ostream&amp; <a class="code" href="StiMaker_8cxx.html#a0">operator&lt;&lt;</a>(ostream&amp;, <font class="keyword">const</font> <a class="code" href="classStiDetector.html">StiDetector</a>&amp;);
00013 
00014 template &lt;class T&gt;
<a name="l00015"></a><a class="code" href="structStreamNodeName.html">00015</a> <font class="keyword">struct </font><a class="code" href="structStreamNodeName.html">StreamNodeName</a>
00016 {
<a name="l00017"></a><a class="code" href="structStreamNodeName.html#a0">00017</a>     <font class="keywordtype">void</font> <a class="code" href="structStreamNodeName.html#a0">operator()</a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* node)<font class="keyword"> </font>{
00018         cout &lt;&lt;node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a5">getName</a>()&lt;&lt;endl;
00019     }
00020 };
00021 
00022 template &lt;class T&gt;
<a name="l00023"></a><a class="code" href="structStreamNodeData.html">00023</a> <font class="keyword">struct </font><a class="code" href="structStreamNodeData.html">StreamNodeData</a>
00024 {
<a name="l00025"></a><a class="code" href="structStreamNodeData.html#a0">00025</a>     <font class="keywordtype">void</font> <a class="code" href="structStreamNodeData.html#a0">operator()</a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* node)<font class="keyword"> </font>{
00026         T* data = node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a9">getData</a>();
00027         cout &lt;&lt;node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a5">getName</a>()&lt;&lt;endl;
00028         <font class="keywordflow">if</font> (data) {cout &lt;&lt;<font class="stringliteral">" "</font>&lt;&lt;(*data)&lt;&lt;endl;}
00029     }
00030 };
00031 
00032 template &lt;class T&gt;
<a name="l00033"></a><a class="code" href="structNodeLessThan.html">00033</a> <font class="keyword">struct </font><a class="code" href="structNodeLessThan.html">NodeLessThan</a>
00034 {
<a name="l00035"></a><a class="code" href="structNodeLessThan.html#a0">00035</a>     <font class="keywordtype">bool</font> <a class="code" href="structNodeLessThan.html#a0">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* lhs, <font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* rhs)<font class="keyword"> </font>{
00036         <font class="keywordflow">return</font> ( lhs-&gt;<a class="code" href="classStiCompositeTreeNode.html#a8">getOrderKey</a>() &lt; rhs-&gt;<a class="code" href="classStiCompositeTreeNode.html#a8">getOrderKey</a>() );
00037     }
00038     
00039 };
00040 
00041 template &lt;class T&gt;
<a name="l00042"></a><a class="code" href="structSameOrderKey.html">00042</a> <font class="keyword">struct </font><a class="code" href="structSameOrderKey.html">SameOrderKey</a>
00043 {
<a name="l00044"></a><a class="code" href="structSameOrderKey.html#a0">00044</a>     <font class="keywordtype">bool</font> <a class="code" href="structSameOrderKey.html#a0">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* rhs)<font class="keyword"> </font>{
00045         <font class="keywordflow">return</font> (morderKey == rhs-&gt;<a class="code" href="classStiCompositeTreeNode.html#a8">getOrderKey</a>() );
00046     }
<a name="l00047"></a><a class="code" href="structSameOrderKey.html#m0">00047</a>     <a class="code" href="StiCompositeTreeNode_8h.html#a0">StiOrderKey_t</a> morderKey;
00048 };
00049 
00050 template &lt;class T&gt;
<a name="l00051"></a><a class="code" href="structSameName.html">00051</a> <font class="keyword">struct </font><a class="code" href="structSameName.html">SameName</a>
00052 {
<a name="l00053"></a><a class="code" href="structSameName.html#a0">00053</a>     <font class="keywordtype">bool</font> <a class="code" href="structSameName.html#a0">operator() </a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* rhs)<font class="keyword"> </font>{
00054         <font class="keywordflow">return</font> (mname == rhs-&gt;<a class="code" href="classStiCompositeTreeNode.html#a5">getName</a>());
00055     }
<a name="l00056"></a><a class="code" href="structSameName.html#m0">00056</a>     string mname;
00057 };
00058 
00059 template &lt;class T&gt;
<a name="l00060"></a><a class="code" href="structSortDaughters.html">00060</a> <font class="keyword">struct </font><a class="code" href="structSortDaughters.html">SortDaughters</a>
00061 {
<a name="l00062"></a><a class="code" href="structSortDaughters.html#a0">00062</a>     <font class="keywordtype">void</font> <a class="code" href="structSortDaughters.html#a0">operator() </a>(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* node)<font class="keyword"> </font>{
00063         <font class="keywordflow">if</font> ( node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a6">getChildCount</a>()&gt;0 )
00064             {
00065                 sort(node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>(), node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a12">end</a>(), <a class="code" href="structNodeLessThan.html">NodeLessThan&lt;T&gt;</a>());
00066                 for_each(node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>(), node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a12">end</a>(), SortDaughters() );
00067             }
00068     }
00069 };
00070 
00071 template &lt;class T&gt;
<a name="l00072"></a><a class="code" href="structRecursiveStreamNode.html">00072</a> <font class="keyword">struct </font><a class="code" href="structRecursiveStreamNode.html">RecursiveStreamNode</a>
00073 {
<a name="l00074"></a><a class="code" href="structRecursiveStreamNode.html#a0">00074</a>     <font class="keywordtype">void</font> <a class="code" href="structRecursiveStreamNode.html#a0">operator() </a>(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* node)<font class="keyword"> </font>{
00075         <font class="comment">//cout &lt;&lt;"Parent: "&lt;&lt;node-&gt;getName()&lt;&lt;endl;</font>
00076         cout &lt;&lt;<font class="stringliteral">"Name: "</font>&lt;&lt;node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a5">getName</a>()&lt;&lt;endl;
00077         <font class="keywordflow">if</font> (node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a6">getChildCount</a>()&gt;0) {
00078             cout &lt;&lt;<font class="stringliteral">" Daughters"</font>&lt;&lt;endl;
00079             for_each(node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>(), node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a12">end</a>(), <a class="code" href="structRecursiveStreamNode.html">RecursiveStreamNode&lt;T&gt;</a>());
00080         }
00081     }
00082 };
00083 
00084 template &lt;class T&gt;
<a name="l00085"></a><a class="code" href="classLeafFinder.html">00085</a> <font class="keyword">class </font><a class="code" href="classLeafFinder.html">LeafFinder</a>
00086 {
00087 <font class="keyword">public</font>:
<a name="l00088"></a><a class="code" href="classLeafFinder.html#s0">00088</a>     <font class="keyword">typedef</font> vector&lt;StiCompositeTreeNode&lt;T&gt;*&gt; tvector_t;
00089     
<a name="l00090"></a><a class="code" href="classLeafFinder.html#a0">00090</a>     <a class="code" href="classLeafFinder.html#a0">LeafFinder</a>(tvector_t&amp; v)  : vec(v) {};
00091     
<a name="l00092"></a><a class="code" href="classLeafFinder.html#a1">00092</a>     <font class="keywordtype">void</font> <a class="code" href="classLeafFinder.html#a1">operator()</a>(<a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* node)<font class="keyword"> </font>{
00093         <font class="keywordflow">if</font> (node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a6">getChildCount</a>()&gt;0) {
00094             (*this) = for_each(node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a11">begin</a>(), node-&gt;<a class="code" href="classStiCompositeTreeNode.html#a12">end</a>(), *<font class="keyword">this</font>);
00095         }
00096         <font class="keywordflow">else</font> {
00097             vec.push_back(node );
00098         }
00099     }
00100     
<a name="l00101"></a><a class="code" href="classLeafFinder.html#a2">00101</a>     <font class="keywordtype">void</font> <a class="code" href="classLeafFinder.html#a2">operator=</a>(<font class="keyword">const</font> <a class="code" href="classLeafFinder.html">LeafFinder</a>&amp; rhs)<font class="keyword"> </font>{copyToThis(rhs);}
00102     
<a name="l00103"></a><a class="code" href="classLeafFinder.html#m0">00103</a>     tvector_t&amp; vec;
00104 
00105 <font class="keyword">private</font>:
00106     <font class="keywordtype">void</font> copyToThis(<font class="keyword">const</font> <a class="code" href="classLeafFinder.html">LeafFinder</a>&amp; rhs)<font class="keyword"> </font>{vec = rhs.<a class="code" href="classLeafFinder.html#m0">vec</a>;}
00107     
00108     <a class="code" href="classLeafFinder.html#a0">LeafFinder</a>(); <font class="comment">//Not implemented</font>
00109 };
00110 
00111 template &lt;class T&gt;
<a name="l00112"></a><a class="code" href="StlUtilities_8h.html#a1">00112</a> <font class="keyword">inline</font> T <a class="code" href="StlUtilities_8h.html#a1">gFindClosestOrderKey</a>(T begin, T end, <font class="keywordtype">double</font> findThis)<font class="keyword"></font>
00113 {
00114     T where = end;
00115     <font class="keywordtype">double</font> min = 1.e100;
00116     <font class="keywordflow">for</font> (T it=begin; it!=end; ++it) {
00117         <font class="keywordtype">double</font> val = fabs(findThis-(*it)-&gt;getOrderKey());
00118         <font class="keywordflow">if</font> (val&lt;min) {
00119             min=val;
00120             where = it;
00121         }
00122     }
00123     <font class="keywordflow">return</font> where;
00124 }
00125 
00126 template &lt;class T&gt;
<a name="l00127"></a><a class="code" href="structSameData.html">00127</a> <font class="keyword">struct </font><a class="code" href="structSameData.html">SameData</a>
00128 {
<a name="l00129"></a><a class="code" href="structSameData.html#m0">00129</a>     T* thedata;
<a name="l00130"></a><a class="code" href="structSameData.html#a0">00130</a>     <font class="keywordtype">bool</font> <a class="code" href="structSameData.html#a0">operator()</a>(<font class="keyword">const</font> <a class="code" href="classStiCompositeTreeNode.html">StiCompositeTreeNode&lt;T&gt;</a>* rhs)<font class="keyword"> </font>{
00131         <font class="keywordflow">return</font> (thedata == rhs-&gt;<a class="code" href="classStiCompositeTreeNode.html#a9">getData</a>());
00132     }
00133 };
00134 
00135 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Fri Oct 5 13:24:34 2001 for ITTF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
