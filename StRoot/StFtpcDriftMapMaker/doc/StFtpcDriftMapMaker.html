<body TEXT="#00004A" BGCOLOR="#FFFFFF" LINK="#088D00"
VLINK="#088888" ALINK="#08DEB5" TYPE="FADEIN">
<html>
<head><title>FTPC Drift Map Maker</title></head>
<body bgcolor=white>


<!-- make some space using <pre>-tag   -->
<pre>




</pre>

<h2>  StFtpcDriftMapMaker </h2>

<p> 
StFtpcDriftMapMaker replaces St_fmg_Maker. It is a standalone program.

<h3>  StFtpcDriftMapMaker recalculates the maps for electron drift in the
electric and magnetic field for the STAR Forward TPCs from parameters like gas composition, drift
voltage and temperature. The magnetic field is taken from the gufld
stored with the data processed in the current chain.  The heart of the code are the algorithms of both magboltz1 and
2. In the standard version, magboltz 1 is used because of the much shorter
calculation time. </h3>
parameters used:<BR>
<TABLE cellspacing=2 cellpadding=0 border=0 align="center" valign="middle" width="100%">
<TR>
<TD><b> *fss_gas_h, *fss_gas, </b></TD> <TD> FTPC slow simulator gas property and ExB table (input - required only for StFtpcParamReader compatability)</TD><TR>
<TD><b> *fss_param_h, *fss_param, </b></TD> <TD> FTPC slow simulator parameters (input - required only for StFtpcParamReader compatability)</TD><TR>
<TD><b> *fcl_det_h, *fcl_det,</b></TD> <TD> geometry and runtime parameters for fcl (input)</TD><TR>
<TD><b> *fcl_padtrans_h, *fcl_padtrans,</b></TD> <TD> ExB drift table, to calculate (output)</TD><TR> 
<TD><b> *fcl_zrow_h, *fcl_zrow,</b></TD> <TD> z positions of all padrows (input)</TD><TR>

</TABLE>

<p>
The FTPC drift map generator is implemented in ROOT.

<p>
StFtpcDriftMapMaker is written in C++ by Holm H&uuml;mmler and is maintained by
<a href=mailto:oldi@mppmu.mpg.de>Markus Oldenburg</a> and <a href=mailto:jcs@mppmu.mpg.de>Janet Seyboth</a>.  
To do the gas calculations (actually the bulk of the work), 
it uses the C++ Magboltz program package,  
which calculates the drift properties
at different points in the FTPC volume.
<p>

Magboltz was written by 
DR.S.F.BIAGI,
       PHYSICS DEPARTMENT,
       UNIVERSITY OF LIVERPOOL,
       LIVERPOOL,
       U.K.
It is the same program used to calculate electron drift properties
in the Garfield field simulation program. 

<p>
Use $STAR/StRoot/macros/examples/FtpcDriftMapMaker.C to run StFtpcDriftMapMaker.
<p>
FtpcDriftMapMaker.C  has three arguments:<BR>
<TABLE cellspacing=3 cellpadding=0 border=0 align="center" valign="middle" width="100%"> <TR>
<TD><b> map</b></TD> <TD> select magnetic field values</TD><TD>Default: = 2    </TD><TR>
<TD>           </TD> <TD> = 1</TD> <TD> use constant field values</TD><TR>
<TD>           </TD> <TD> = 2</TD> <TD> use mapped field values </TD><TR>
<TD><b>factor</b></TD> <TD> field scaling factor </TD><TD> Default: = 1.0 (full field positive)</TD><TR>
<TD></TD> <TD> > 0.8</TD> <TD>full field positive</TD><TR>
<TD></TD> <TD> < 0.8 && > 0.2</TD> <TD>half field positive</TD><TR>
<TD></TD> <TD> < 0.2 && > -0.2</TD> <TD>zero field </TD><TR>
<TD></TD> <TD> > -0.8</TD> <TD>half field negative</TD><TR>
<TD></TD> <TD> < -0.8</TD> <TD>full field negative</TD><TR>
</TABLE>

<br> FtpcDriftMapMaker.C may take several hours to run. Upon completion, it will write out the drift map tables: <br>
<ul>
<li> ftpcEField.C</li>
<li> ftpcDriftField.C</li>
<li> ftpcDeflection.C</li>
<li> ftpcVDrift.C</li>
<li> ftpcdDeflectiondP.C</li>
<li> ftpcdVDriftdP.C</li>
</ul>
These files can be loaded into the Calibrations_ftpc offline database.


<p>


<p> 
<i> This page was created by <a href=mailto:jcs@mppmu.mpg.de> Janet Seyboth</a> on January 20, 2001 </i><br>
<i> This page was last updated by <a href=mailto:jcs@mppmu.mpg.de> Janet Seyboth</a> on July 21, 2005 </i>

</html>

