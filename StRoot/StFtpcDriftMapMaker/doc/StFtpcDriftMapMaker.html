<body TEXT="#00004A" BGCOLOR="#FFFFFF" LINK="#088D00"
VLINK="#088888" ALINK="#08DEB5" TYPE="FADEIN">
<html>
<head><title>FTPC Drift Map Maker</title></head>
<body bgcolor=white>


<!-- make some space using <pre>-tag   -->
<pre>




</pre>

<h2>  StFtpcDriftMapMaker </h2>

<p> 
StFtpcDriftMapMaker replaces St_fmg_Maker. It is a standalone program.

<h3>  StFtpcDriftMapMaker recalculates the map for electron drift in the
electric and magnetic field for the STAR Forward TPCs from parameters like gas composition, drift
voltage and temperature. The magnetic field is taken from the gufld
stored with the data processed in the current chain.  The heart of the code are the algorithms of both magboltz1 and
2. In the standard version, magboltz 1 is used because of the much shorter
calculation time. </h3>
parameters used:<BR>
<TABLE cellspacing=2 cellpadding=0 border=0 align="center" valign="middle" width="100%">
<TR>
<TD><b> *fss_gas_h, *fss_gas, </b></TD> <TD> FTPC slow simulator gas property and ExB table (input - required only for StFtpcParamReader compatability)</TD><TR>
<TD><b> *fss_param_h, *fss_param, </b></TD> <TD> FTPC slow simulator parameters (input - required only for StFtpcParamReader compatability)</TD><TR>
<TD><b> *fcl_det_h, *fcl_det,</b></TD> <TD> geometry and runtime parameters for fcl (input)</TD><TR>
<TD><b> *fcl_padtrans_h, *fcl_padtrans,</b></TD> <TD> ExB drift table, to calculate (output)</TD><TR> 
<TD><b> *fcl_zrow_h, *fcl_zrow,</b></TD> <TD> z positions of all padrows (input)</TD><TR>

</TABLE>

<p>
The FTPC drift map generator is implemented in ROOT.

<p>
StFtpcDriftMapMaker is written in C++ by Holm H&uuml;mmler and is maintained by
<a href=mailto:oldi@mppmu.mpg.de>Markus Oldenburg</a> and <a href=mailto:jcs@mppmu.mpg.de>Janet Seyboth</a>.  
To do the gas calculations (actually the bulk of the work), 
it uses the C++ Magboltz program package,  
which calculates the drift properties
at different points in the FTPC volume.
<p>

Magboltz was written by 
DR.S.F.BIAGI,
       PHYSICS DEPARTMENT,
       UNIVERSITY OF LIVERPOOL,
       LIVERPOOL,
       U.K.
It is the same program used to calculate electron drift properties
in the Garfield field simulation program. 

<p>
Use $STAR/StRoot/macros/FtpcDriftMapMaker.C to run StFtpcDriftMapMaker.
<p>
FtpcDriftMapMaker.C currently has one argument with which you can choose the magnetic field to be used:<BR>
<TABLE cellspacing=2 cellpadding=0 border=0 align="center" valign="middle" width="100%">
<TR>
<TD><b> FullField</b></TD> <TD> Scale = 1. (this is the default option)</TD><TR>
<TD><b> FieldOff</b></TD> <TD> Scale = 0.00002</TD><TR>
<TD><b> HalfField</b></TD> <TD> Scale = 0.5</TD><TR>
<TD><b> ReverseField</b></TD> <TD> Scale = -1. </TD><TR>

</TABLE>
This may take several hours. Then write out the new
StDb/params/ftpc/fclpars/padtrans.C, with a macro like 
StRoot/macros/examples/SavePrimitive.C. 

<p>


<p> 
<i> This page was created by <a href=mailto:jcs@mppmu.mpg.de> Janet
Seyboth</a> on January 20, 2001 </i>

</html>

