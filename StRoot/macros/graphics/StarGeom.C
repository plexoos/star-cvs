//*-- Author :    Valery Fine(fine@bnl.gov)   25/01/99  
// $Id: StarGeom.C,v 1.2 1999/05/21 15:33:54 kathy Exp $ 
// $Log: StarGeom.C,v $
// Revision 1.2  1999/05/21 15:33:54  kathy
// made sure Log & Id are in each file and also put in standard comment line with name of owner
//
//=======================================================================
// owner: Gene Van Buren
// what it does: 
//=======================================================================

{
  // Load the share library
  gSystem->Load("St_base");
 //  Open GEANT geometry generated by begin_html <a href=".././St_geant_Maker.html##St_geant_Maker:Work">St_geant_Maker::Work()</a>  method end_html
  TFile f("$(STAR)/star.root");
  // Read "Geometry" object with the STAR geometry information from the ROOT file
  TGeometry *g = (TGeometry *) f.Get("Geometry");
  TList *l = g->GetListOfNodes();
  St_Node *hall = (St_Node *)l->First();

  // Show a diagram of the entire structure
  TBrowser *starbrowser = new TBrowser("STAR",hall);

  // Let's find some sub-detector in there
  St_DataSetIter detector(hall);
 
  St_Node *pipe = detector("HALL/CAVE/PIPE");
  // If found draw it
  if (pipe) pipe->Draw();

// Create view class
//  St_NodeView *view = new St_NodeView(*hall);
//  view->Draw();
#if 0
  // One may convert STAR St_Node's to the standard ROOT TNode objects
  l->Clear();
  g->SetCurrentNode(0);
  TNode *RootHall = hall->CreateTNode();
  delete hall;
  RootHall->cd();
#endif
//  TBrowser hallbrowser("hall",view);
//  RootHall->Draw();
  c1->Update();
   //
   //  Draw the geometry using the x3d viewver.
   //  Note that this viewver may also be invoked from the "View" menu in
   //  the canvas tool bar
// c1->x3d(); 
}
