* 8/10/98 K. Turner
* ***************************************************************
* 
* srs_init.kumac
*
* synopsis: kumac to initialize the srs package (Svt Resolution Simulator)
*
* author:   W.K.Wilson
*
* history:  C.Pruneau, June 97, adaptation to new staf
*           editted by Kathy Turner June 5, 98 
* 
**************************************************************************
 
 macro read
   
macro/global/import *
  
  message ' init_srs: read in tables'
  
cd [params]/svt
 
    dio/newfilestream  srs_par $STAR/params/svt/srs_pars.xdf r
  dio/stream/getevent  srs_par
  dio/stream/close     srs_par
  
  soc/object/oid srs_par 
  oid = staf_result(1) 
  soc/deleteoid [oid]

  cd /dui
  
 return
 
* *****************************************************

* for srs_activea 3
* Rectangle parameters [0] 
*       1=width of standoff at anodes
*       2=width of standoff next to guard region + mini-guard width
* Butterfly parameters: [1]
*       1=width of standoff at anodes
*       2=width of standoff next to guard region
*       3=maximum transverse width of guard region
*       These numbers are from Gintas V circa Feb. 1994
* Trapezoidal parameters: [2] (like STAR 1) 
*       1=width of standoff at anodes
*       2=width of standoff next to guard region
*       3=maximum transverse width of guard region
*       4=width of guard region in drift direction

* for srs_srspar
* This section chooses the method (only 2 and 3 are supported now),
* initializes the random seed, chooses the shape of the active area,
* and fixes the resolution
*           Method=1 (default) uses Ken Wilson's svt_resolution_sim,           
*                    the full blown resolution simulator                       
*           Method=2 uses Claude Pruneau's spt_direct routine to make          
*                    a direct copy from hits to space points (no smearing)     
*           Method=3 uses Claude Pruneau's spt_direct_gs routine which         
*                    smears the hits with a fixed sigma which is taken from    
*                    the table direct(1).sd (drift direction)                  
*                                           .st (transverse direction) 
* init_ran is the seed for the gaussian smearing
* id_active is the active area type for each layer(eg rectangle, butterfly,etc)


* srs_direct table
*          sd = resolution in the drift direction
*          st = resolution in the direction transverse to the drift
*          the expected value is 20 microns
* ********************************************************
 
 macro init
   macro/global/import *
 return
 
* ***************************************************









